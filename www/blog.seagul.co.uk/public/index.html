<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

  <head>
    <!--#include virtual="/includes/_head.html"-->
    <title>Most recent posts - deferred until inspiration hits</title>
  </head>
  
  <body>
    
    <div id="doc3" class="yui-t4">
      <div id="hd">
        <!--#include virtual="/includes/_header.html"-->
      </div>
      <div id="bd">
        <div id="yui-main">
          <div class="yui-b">
            <div class="yui-g">

              
                <h2>
                  <a href="/articles/2008/07/21/asking-south-eastern-about-their-crappy-seats">Asking South Eastern about their crappy seats</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Mon, 21 Jul 2008 21:08:55">
                    Mon, 21 Jul 2008 21:08:55
                  </span>
                </p>

                <p>I regularly travel on the <a href="http://southeasternrailway.co.uk/">South Eastern</a> service from <a href="http://en.wikipedia.org/wiki/Waterloo_East_railway_station">Waterloo East</a> to <a href="http://en.wikipedia.org/wiki/Ramsgate">Ramsgate</a>.  The train splits at <a href="http://en.wikipedia.org/wiki/Ashford_International">Ashford</a> and I end up having to sit in the shitty commuter seats for the last 45 minutes (or so) of the journey.  I emailed South Eastern to ask if they couldn&#8217;t reconfigure the train so that, of the eight cars that go to Dover, four could have commuter seats and four could have real seats.  They could then send the other four cars, with real seats, to Ramsgate.  I don&#8217;t think I have the original email that I sent (feedback forms in general suffer from the problem that the sender doesn&#8217;t retain a copy of what&#8217;s been sent) but their reply is below (<a href="http://flickr.com/photos/chrisjroos/2688362397/">original here</a>).</p>


<pre>
Ref: 329980 / 93994

Dear Mr Roos

Formation of 17.59 Waterloo East to Ramsgate Service

Thank you for your email of 2nd May

I am sorry that you have found the seating on the rear four carriages of the above service to be
uncomfortable. These are the higher density carriages that have 2+3 seating across the coach,
rather than 2+2 seating, and are intended to deal with the heavy demand we face during the
busy peak periods. We know that everyone would prefer all our trains to have 2+2 seating
throughout. However, we have to utilise the higher density seating layout in order to provide
enough seats for our London commuters.

For a number of operational factors (for example, rolling stock maintenance), it is difficult to
locate a set of four higher density carriages in the middle of a twelve-coach train, where the
front and rear portions are formed of 2+2 seating. The usual procedure is to have four or eight
carriages which are the same, and to have an additonai four carriages of either the higher
density or 2+2 rolling stock. In addition to this, we have to look at the wider picture and consider
what is needed for later services or on the following morning (as a rule, it is not possible to
"mix-and-match" rolling stock to it each journey).

For these reasons, it is unlikely that we will be able to make the change that to have requested.
Thank you, however, for sharing your concerns with us. Passenger feedback, whether good or
bad, is always appreciated so that we can continue to improve on the service we offer, and I
hope you can be reassured that we take all issues very seriously.

Yours sincerely

David Eustace

Southeastern Customer Services
</pre>

                
              
                <h2>
                  <a href="/articles/2008/07/21/open-source-optical-character-recognition-ocr-on-the-mac">Open Source Optical Character Recognition (OCR) on the Mac</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Mon, 21 Jul 2008 14:04:56">
                    Mon, 21 Jul 2008 14:04:56
                  </span>
                </p>

                <p>I recently received a letter reply to an enquiry I made to <a href="http://southeasternrailway.co.uk/">South Eastern Trains</a>.  I wanted to make the text available (I don&#8217;t like reading text in images) but didn&#8217;t want to type it all out.  Having scanned it in, I looked around for some <a href="http://en.wikipedia.org/wiki/Optical_character_recognition"><span class="caps">OCR</span></a> software, for the <a href="http://www.apple.com/mac/">Mac</a>, that would extract the text for me.  Through the (relatively large amount of) search result noise, I managed to find a reference to <a href="http://code.google.com/p/tesseract-ocr/">tesseract</a>.  Installing from <a href="http://www.macports.org/">Mac Ports</a> was easy but actually getting useful output was slightly tricker.  I was trying to extract the text from <a href="http://www.flickr.com/photos/chrisjroos/2688362397/">this letter</a> but kept getting garbled output.  I tried a few things before stumbling across <a href="https://help.ubuntu.com/community/OCR">this page</a> that suggests making the image greyscale and ensuring that the extension is .tif (not .tiff).  I duly complied, using <a href="http://seashore.sourceforge.net/">Seashore</a> to convert the image to greyscale, and tried again.  This time the text was extracted perfectly (even the addresses, that appear in two columns, were extracted correctly).</p>

                
              
                <h2>
                  <a href="/articles/2008/05/19/pwdhash-widget">Pwdhash Widget</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Mon, 19 May 2008 21:58:15">
                    Mon, 19 May 2008 21:58:15
                  </span>
                </p>

                <p>I&#8217;ve been using <a href="http://pwdhash.com">pwdhash</a> for ages.  Apart from some pathetic sites that impose password limitations (less than x characters, or no &#8216;strange&#8217; characters), I&#8217;ve used it on every site I&#8217;ve signed up to.  This has started to change recently as more sites offer a client application that sits alongside the online app (<a href="http://flickr.com">flickr</a>, <a href="http://twitter.com">twitter</a> and <a href="http://last.fm">last.fm</a> come to mind): It&#8217;s a pain to visit pwdhash.com every time I need to generate a password for an offline app.  So, I decided to have a stab at creating a dashboard widget to generate password hashes.  I used <a href="http://developer.apple.com/tools/dashcode/">dashcode</a> (which makes this stuff <em>really</em> easy) and got something knocked up, in about an hour, on <a href="http://twitter.com/chrisroos/statuses/812954936">Friday</a>.  The fact that pwdhash.com is already composed of html and javascript helped just a bit too&#8230;</p>


	<p>Anyway, if it sounds useful feel then free to download it <a href="/files/pwdhash.zip">here</a>.</p>

                
              
                <h2>
                  <a href="/articles/2008/05/19/a-trip-to-the-tip">A trip to the tip</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Mon, 19 May 2008 09:42:29">
                    Mon, 19 May 2008 09:42:29
                  </span>
                </p>

                <p>A recent trip to the local tip got me thinking.  Shouldn&#8217;t the council be pimping alternative services (freecycle and charity shops come to mind) at the tip?  I saw a couple of things that I struggle to believe couldn&#8217;t have been of use to someone else: a golf bag and computer tower (even if it didn&#8217;t contain a computer &#8211; I just sold a similar case on ebay, proving the demand).  In addition to these two items were the mountain (ok, not a mountain, but a fair number) of discarded fridge/freezers.  I wonder how many of these had actually broken and how many were no longer required for different reasons: maybe England beer fridges are out of fashion now?</p>


	<p>So, at the very least, I think the council should just pop some signs up suggesting alternative fates for your unwanted stuff.  But, taking it further, I wonder whether the council couldn&#8217;t operate a similar sized (to the current tip) site that served as a drop-off/pick-up point for freecycle?  I&#8217;d hope that, after a while, the cost of this second site would be offset by the savings made at the tip by the reduction in use (although that may be wishful thinking).</p>


	<p>Maybe a hybrid alternative would be to train the current tip workers to filter out items of possible reuse from the actual rubbish, thereby allowing the existing site to be use for both purposes.</p>

                
              
                <h2>
                  <a href="/articles/2008/04/29/redesigning-my-blog">Redesigning my blog</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Tue, 29 Apr 2008 06:17:07">
                    Tue, 29 Apr 2008 06:17:07
                  </span>
                </p>

                <p>I finally got round to updating my blog template this weekend.  I based the new design on the <a href="http://developer.yahoo.com/yui/grids/">yui grids css</a> in an attempt to provide the same look to users of different browsers.  In addition I&#8217;ve &#8216;borrowed&#8217; some ideas from both the <a href="http://www.w3.org/TR/xhtml1/">w3c specification pages</a> (the blue colour) and the <a href="http://www.pearsonified.com/theme/copyblogger/">copyblogger wordpress theme</a> (mainly the header, seen on <a href="http://www.techbelly.com">Ben&#8217;s</a> blog).</p>


	<p>I&#8217;ve also created a really simple print stylesheet (it just removes the right nav) that should make it possible to print the content out if you so wish.</p>


	<p>There&#8217;s still work to do: the code snippets seem to break <span class="caps">IE6</span> (not sure about <span class="caps">IE7</span>) but in general I&#8217;m pretty happy with the way it&#8217;s looking.</p>

                
              
                <h2>
                  <a href="/articles/2008/04/10/exporting-query-results-to-a-remote-machine-with-mysql-an-alternative-to-select-into-outfile">Exporting query results to a remote machine with MySql (an alternative to SELECT INTO OUTFILE)</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Thu, 10 Apr 2008 16:45:29">
                    Thu, 10 Apr 2008 16:45:29
                  </span>
                </p>

                <p>Exporting query results to a remote machine with MySql (an alternative to <span class="caps">SELECT INTO OUTFILE</span>)</p>


	<p><a href="http://mysql.com">MySql&#8217;s</a> <a href="http://dev.mysql.com/doc/refman/5.0/en/select.html"><span class="caps">SELECT INTO OUTFILE</span></a> syntax provides a nice way to export the results of a query into a tab delimited (by default) text file.  Unfortunately, the file has to be created on the MySql host (by a user with file permissions), rendering it unsuitable for dumping the data to a remote machine.  If you wish to dump the query results to a different machine then the <a href="http://dev.mysql.com/doc/">mysql docs</a> suggest redirecting the output from the mysql command line client:</p>


	<blockquote>
		<p>The <span class="caps">SELECT</span> &#8230; <span class="caps">INTO OUTFILE</span> statement is intended primarily to let you very quickly dump a table to a text file on the server machine. If you want to create the resulting file on some client host other than the server host, you cannot use <span class="caps">SELECT</span> &#8230; <span class="caps">INTO OUTFILE</span>. In that case, you should instead use a command such as mysql -e &#8220;SELECT &#8230;&#8221; &gt;  file_name to generate the file on the client host.</p>
	</blockquote>


	<p>This works great but the default output you&#8217;ll get from redirecting <span class="caps">STDOUT</span> won&#8217;t be the same as using <span class="caps">SELECT INTO OUTFILE</span>.  The two main (only?) differences are, in the redirected output, the addition of the headers and that <span class="caps">NULL</span> values are output as <span class="caps">NULL</span> instead of the special \N (backslash-N) sequence.  We can fix both of these things by specifying an optional switch (skip-column-names) to the mysql client and employing some <a href="http://en.wikipedia.org/wiki/Sed">sed</a> magic.</p>


<div class="typocode"><pre><code class="typocode_default">mysql -h&quot;my-host&quot; -u&quot;my-user&quot; -p&quot;my-password&quot; -e&quot;select * from my-database.my-table&quot; --skip-column-names |\
  sed -e 's/[[:&lt;:]]NULL[[:&gt;:]]/\\N/g' &gt;\
  my-export-directory/my-table.csv`</code></pre></div>

	<p>That sed magic is replacing instances of <span class="caps">NULL</span>, surrounded by some whitespace, with the special \N escape sequence.</p>


	<p>Oh, and it&#8217;s probably worth mentioning that this is only really important if you want to load this data back into mysql (using <a href="http://dev.mysql.com/doc/refman/5.0/en/load-data.html"><span class="caps">LOAD DATA INFILE</span></a> for example).  If you were to load the default output, from redirecting the mysql client, back into mysql then you&#8217;d end up with an unwanted header row and <span class="caps">NULL</span> strings (or 0 for numeric columns) where you expected actual <span class="caps">NULL</span> values.</p>


	<p>It took us a while to figure this out so I thought it might be of some use to others.</p>

                
              
                <h2>
                  <a href="/articles/2008/03/31/another-project-public-swimming-pools-in-the-uk">Another project - Public Swimming Pools in the UK</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Mon, 31 Mar 2008 14:18:43">
                    Mon, 31 Mar 2008 14:18:43
                  </span>
                </p>

                <p>Not content with already having a <a href="/articles/2008/02/18/what-ive-been-up-to-projects-and-ideas">bunch of unfinished projects</a> I thought I&#8217;d embark upon another.</p>


	<p>I&#8217;ve struggled in the past to find public swimming pools that I can use when staying in London.  I&#8217;ve searched on multiple occasions and never really found anything useful so figured there was probably a gap waiting to be filled.  Interestingly, I think that someone in or around the government must realise this too.  A search, on google, for <a href="http://www.google.co.uk/search?q=uk+public+swimming+pools">uk public swimming pools</a> results in an <a href="http://adwords.google.com">Adword</a> for <a href="http://direct.gov.uk">DirectGov</a> that takes you to a page promoting the <a href="http://www.activeplaces.com">Active Places</a> website.  This website allows you to search for leisure facilities by postcode or by clicking around a map.  As noted in my <a href="http://del.icio.us/chrisjroos/url/0a078da5074a6c759210508c0bc6a60e">del.icio.us note</a>, I think this could be a valuable site but the current implementation is very very poor: Both from a usability and search engine friendly point of view (I can&#8217;t help but wonder, as it appears to be a Government funded project, through Sport England, how much money has been spent on it).  One last point about the site is that it appears to include data about pools that can&#8217;t actually be used by members of the public (a pool belonging to a local private school appears when searching for pools near home).</p>


	<p>According to this <a href="http://www.theyworkforyou.com/wrans/?id=2008-03-10b.192802.h">parliamentary question</a>, the <a href="http://www.culture.gov.uk/">department for Culture, Media and Sport</a> know the number and type of pools opened and closed since 2004: actually, I&#8217;ve just noticed that they appear to rely on the Active Places database.  There&#8217;s an email address (actually, a Sport England address) on the Active Places website that I&#8217;m going to use to see if I can get hold of this data.</p>


	<p>The initial, and most basic, site will just list all the public swimming pools and, I&#8217;m hoping this is pretty easy with the <a href="http://code.google.com/apis/maps/">Google Maps <span class="caps">API</span></a>, allow you to search for one by location.  As, and indeed if, the site evolves, I&#8217;d like to get lots more useful information about these pools up: I&#8217;m hoping that allowing users to comment will reveal useful info about the best times to visit depending on what you&#8217;re trying to get out of it.</p>

                
              
                <h2>
                  <a href="/articles/2008/03/29/reference-trackback-server-implementation">Reference Trackback Server implementation</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Sat, 29 Mar 2008 06:27:05">
                    Sat, 29 Mar 2008 06:27:05
                  </span>
                </p>

                <p>To aid my development of the <a href="http://blog.seagul.co.uk/articles/2008/03/04/version-0-2-of-the-del-icio-us-trackback-extension">del.icio.us trackbacks firefox extension</a> I created a reference <a href="http://en.wikipedia.org/wiki/Trackback">trackback</a> server implementation based on the <a href="http://www.sixapart.com/pronet/docs/trackback_spec">trackback specification</a>.</p>


	<p>It&#8217;s written in <a href="http://www.ruby-lang.org">Ruby</a> as a <a href="http://mongrel.rubyforge.org/">Mongrel</a> handler and stores the trackbacks serialized to <a href="http://en.wikipedia.org/wiki/YAML"><span class="caps">YAML</span></a> on the filesystem.  The code is over in <a href="http://code.google.com/p/chrisroos/">my google code repository</a> (no direct link as I plan to move the trackback-server from its current home in /trunk/scratch to /trunk/www/trackbacks.seagul.co.uk).</p>


	<p>On the off-chance that someone else might find it useful I&#8217;m currently hosting it at <a href="http://trackbacks.seagul.co.uk">http://trackbacks.seagul.co.uk</a>.  You might use it to see the del.icio.us trackbacks extension in action or to test the sending of trackbacks from your blog (the trackback <span class="caps">URL</span> is <a href="http://trackbacks.seagul.co.uk/trackback">http://trackbacks.seagul.co.uk/trackback</a>).  Or, you could just play with it using <a href="http://curl.haxx.se">curl</a>.</p>


<div class="typocode"><pre><code class="typocode_default"># Let's just try to GET the trackback URL
$ curl http://trackbacks.seagul.co.uk/trackback
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;response&gt;
  &lt;error&gt;1&lt;/error&gt;
  &lt;message&gt;Http Method MUST be POST&lt;/message&gt;
&lt;/response&gt;

# OK, so we'll POST to the trackback URL
$ curl http://trackbacks.seagul.co.uk/trackback -X&quot;POST&quot;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;response&gt;
  &lt;error&gt;1&lt;/error&gt;
  &lt;message&gt;Content-Type MUST be 'application/x-www-form-urlencoded' with OPTIONAL character encoding&lt;/message&gt;
&lt;/response&gt;

# Posting with the correct Content-Type
$ curl http://trackbacks.seagul.co.uk/trackback -X&quot;POST&quot; -H&quot;Content-Type: application/x-wencoded&quot;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;response&gt;
  &lt;error&gt;1&lt;/error&gt;
  &lt;message&gt;You MUST send the URL of your post (permalink) that mentions this post.&lt;/message&gt;
&lt;/response&gt;

# Post with the correct Content-Type and the required URL parameter to actually have a trackback created on the server
$ curl http://trackbacks.seagul.co.uk/trackback -X&quot;POST&quot; -H&quot;Content-Type: application/x-wencoded&quot; -d&quot;url=http://example.com&quot;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;response&gt;
  &lt;error&gt;0&lt;/error&gt;
&lt;/response&gt;</code></pre></div>

                
              
                <h2>
                  <a href="/articles/2008/03/29/files-hosted-on-google-groups-cannot-be-opened-in-safari-or-internet-explorer">Files hosted on Google Groups cannot be opened in Safari (or Internet Explorer)</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Sat, 29 Mar 2008 06:06:02">
                    Sat, 29 Mar 2008 06:06:02
                  </span>
                </p>

                <p>I noticed a little while ago that opening a, <a href="http://groups.google.com">Google Groups</a> hosted, file in <a href="http://www.apple.com/safari/">Safari</a> didn&#8217;t work.  I have a file at <a href="http://delicious-trackbacks.googlegroups.com/web/installation.html">http://delicious-trackbacks.googlegroups.com/web/installation.html</a> that you can try out if you&#8217;re so inclined.  Requests for that file result in a page being rendered in Firefox but not in Safari or Internet Explorer (6 at least).  <a href="http://interblah.net/">James</a> noticed that requests for these hosted files were resulting in a 302 response, as we can see from this <a href="http://curl.haxx.se/">curl</a> output.</p>


<div class="typocode"><pre><code class="typocode_default">curl &quot;http://delicious-trackbacks.googlegroups.com/web/installation.html&quot; -v -X&quot;HEAD&quot;

&lt; HTTP/1.1 302 Moved Temporarily
&lt; Content-Type: text/html; charset=UTF-8
&lt; Content-Length: 0
&lt; Cache-control: private
&lt; Server: GFE/1.3
&lt; Date: Fri, 28 Mar 2008 19:55:58 GMT</code></pre></div>

	<p>The response also includes a body that contains a link to the actual file you want with some kind of key in the querystring.  Interestingly the response doesn&#8217;t return a Location header.</p>


	<p>The <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.3"><span class="caps">HTTP</span> specification</a> states the following:</p>


	<blockquote>
		<p>The temporary <span class="caps">URI SHOULD</span> be given by the Location field in the response. Unless the request method was <span class="caps">HEAD</span>, the entity of the response <span class="caps">SHOULD</span> contain a short hypertext note with a hyperlink to the new <acronym title="s">URI</acronym>.</p>
	</blockquote>


	<p>So, it looks like Google are sending a valid response according to the spec (although I&#8217;m not sure whether they&#8217;re intentionally leaving the Location header out) but that Safari and Internet Explorer are unable to deal with it.</p>


	<p>I found an existing report of <a href="http://bugs.webkit.org/show_bug.cgi?id=15822">the bug</a> over at the <a href="http://webkit.org/">webkit</a> <a href="http://bugs.webkit.org/">bug tracker</a> and added this information to it.  I also sent a <a href="http://groups.google.com/group/Is-Something-Broken/browse_thread/thread/9e9a51c2b6841c8f/28088b462550858e#28088b462550858e">message</a> to the <a href="http://groups.google.com/group/Google-Groups-Guide">Google Groups: Is Something Broken</a> group.</p>

                
              
                <h2>
                  <a href="/articles/2008/03/28/version-control-commit-note-best-practice-or-not-you-decide">Version Control Commit Note Best Practice (or not, you decide)</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Fri, 28 Mar 2008 19:17:57">
                    Fri, 28 Mar 2008 19:17:57
                  </span>
                </p>

                <p>This is my own opinion but it has evolved from the need to dig back into past commit notes <strong>a lot</strong>.  The lazy approach to writing commit notes is just to explain what&#8217;s in the changeset (much like a code comment that says &#8220;set x to 1&#8221;):  It&#8217;s exactly what I used to write (and still do if I&#8217;m not concentrating).  The more useful approach is to explain why the changeset is there.  I can take two of my own commit notes as examples.</p>


	<h2>Useless commit note</h2>


	<blockquote>
		<p>Capistrano deploy:setup should generate apache proxy cluster configuration.</p>
	</blockquote>


	<p>This is a fairly useless commit note: If I was to come back to this (as I did today when looking at it) I would have no idea what I was trying to achieve.  Why should the config be generated at setup and not at some other point in the deploy process?  If I&#8217;d spent an extra 30 seconds writing the note in the first place I wouldn&#8217;t have to try to work out what I was trying to achieve.</p>


	<h2>More useful commit note</h2>


	<blockquote>
		<p>This isn't a card but _has_ been bugging me for a long time. You can now click on the <product_type> in the 'Top 3 <product_type>' headings on super category pages to visit that product type. Oh, I also made them h2s as having multiple h1s on a page just doesn't make sense.</p>
	</blockquote>


	<p>This is a much more useful (imho) comment.  If at some point in the future we want to know why the &#8216;top 3 product types&#8217; is now a link, we can come back to the note and see that it was because I, personally, was fed up of it not being so.  I also explain why I&#8217;ve changed the heading from a h1 to h2 (although that comment could be open to interpretation: why doesn&#8217;t it make sense?).</p>


	<p>This all ties into submitting small checkins that are only doing one thing, but I might try to give some examples of that separately.</p>


	<p>Anyone else have any thoughts or alternative approaches?</p>

                
              

            </div>
          </div>
        </div>
        <div class="yui-b">
          <!--#include virtual="/includes/_navigation.html"-->
        </div>
      </div>
    </div>
    <div id="ft">
      <!-- Footer -->
    </div>
    
    <!--#include virtual="/includes/_twitter.html" -->
    <!--#include virtual="/includes/_delicious.html" -->
    <!--#include virtual="/includes/_google_analytics.html" -->
  </body>

</html>
