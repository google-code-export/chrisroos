<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

  <head>
    <meta name="microid" content="ff511e16d7108be450fccd6f4611cf8d1d5416d1" >
    <meta http-equiv="content-type" content="text/html; charset=utf-8" >
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/DeferredUntilInspirationHits" >
    <link rel="stylesheet" href="/stylesheets/yui-reset-fonts-grids.css" type="text/css" media="all">
    <link rel="stylesheet" href="/stylesheets/blog.css" type="text/css" media="all" charset="utf-8">
    <link rel="stylesheet" href="/stylesheets/syntax.css" type="text/css" media="all" charset="utf-8">
    <link rel="stylesheet" href="/stylesheets/print.css" type="text/css" media="print" charset="utf-8">
    <link rel="openid.server" href="http://www.myopenid.com/server">
    <link rel="openid.delegate" href="http://chrisroos.myopenid.com/">
    <title>Automatically downloading my most recent Hsbc transactions - deferred until inspiration hits</title>
  </head>

  <body>
    
    <div id="doc3" class="yui-t4">
      <div id="hd">
        <h1><a class="blogTitle" href="/">deferred until inspiration hits</a></h1>
      </div>
      <div id="bd">
        <div id="yui-main">
          <div class="yui-b">
            <div class="yui-g">

              <h2>Automatically downloading my most recent Hsbc transactions</h2>
            
              <p class="postedOn">
                Posted by Chris Roos
                <span title="Fri, 04 May 2007 12:53:00">
                  Fri, 04 May 2007 12:53:00
                </span>
              </p>
          
              <p>I&#8217;ve updated my <a href="http://blog.seagul.co.uk/articles/2006/12/24/curl-is-fast-becoming-my-favourite-toy">previous</a> curl/ruby script to automatically download my most recent transactions from Hsbc.  I created the original script as I had a couple of hours spare and wanted to see if I could do it.  The update has been driven by my continued use of <a href="http://www.wesabe.com">wesabe</a>.  Not only does it make my life a bit easier (which is, after all, the point of software) but the wesabe guys have suggested that they may be able to roll it into their client.  Cool.</p>


	<p>As an aside.  It really, really, really shouldn&#8217;t be as hard as it is to automatically get a downloaded list of my transactions.  At least Hsbc offer transactions in <a href="http://www.ofx.net">ofx</a> format, unlike <a href="http://blog.seagul.co.uk/articles/2007/04/01/converting-egg-credit-card-statements-to-ofx-for-upload-to-wesabe">egg</a> and <a href="http://chrisroos.googlecode.com/svn/trunk/egg-ofx/ing_direct">ing direct</a>.  Come on, The Banks, sort it out eh.</p>
        
              
                <p>
                  Tags 
                  
                    <a href="/articles/tag/curl" rel="tag">curl</a>, 
                  
                    <a href="/articles/tag/egg" rel="tag">egg</a>, 
                  
                    <a href="/articles/tag/hsbc" rel="tag">hsbc</a>, 
                  
                    <a href="/articles/tag/ingdirect" rel="tag">ingdirect</a>, 
                  
                    <a href="/articles/tag/ofx" rel="tag">ofx</a>, 
                  
                    <a href="/articles/tag/ruby" rel="tag">ruby</a>, 
                  
                    <a href="/articles/tag/wesabe" rel="tag">wesabe</a>, 
                  
                </p>
              
          
              <div id="disqus_thread"></div>
              <script type="text/javascript" src="http://disqus.com/forums/deferred-until-inspiration-hits/embed.js"></script>
              <noscript>
                <p><a href="http://deferred-until-inspiration-hits.disqus.com/?url=ref">View the forum thread.</a></p>
              </noscript>

              
                <h2>Legacy Comments</h2>
                <ol class="comments">
                  
                  <li>
                    <p class="postedOn">
                      <strong>
                        
                          Flowers 999
                        
                      </strong>
                      said on Sun, 27 May 2007 09:02:29:
                    </p>
                    <p>I need the last two transactions</p>
                  </li>
                  
                  <li>
                    <p class="postedOn">
                      <strong>
                        
                          Richard
                        
                      </strong>
                      said on Wed, 18 Jul 2007 23:04:56:
                    </p>
                    <p>Would you mind sharing the code please?</p>
                  </li>
                  
                  <li>
                    <p class="postedOn">
                      <strong>
                        
                          Chris
                        
                      </strong>
                      said on Thu, 19 Jul 2007 01:06:28:
                    </p>
                    <p>The code is all in me google code repository &#8211; http://chrisroos.googlecode.com/svn/trunk/hsbc/</p>
                  </li>
                  
                  <li>
                    <p class="postedOn">
                      <strong>
                        
                          simon
                        
                      </strong>
                      said on Sat, 21 Jul 2007 20:34:02:
                    </p>
                    <p>Hi chris,</p>


	<p>Thanks very much for this &#8211; it looks like a right pain in the bum. Fantastically useful!</p>
                  </li>
                  
                  <li>
                    <p class="postedOn">
                      <strong>
                        
                          Peter
                        
                      </strong>
                      said on Wed, 25 Jul 2007 22:12:07:
                    </p>
                    <p>Thanks for the script, has been working well up until a few days ago when <span class="caps">HSBC</span> changed their website.  Any chance of updating the script?  Thanks.</p>
                  </li>
                  
                  <li>
                    <p class="postedOn">
                      <strong>
                        
                          Chris
                        
                      </strong>
                      said on Mon, 30 Jul 2007 22:12:29:
                    </p>
                    <p>Peter,</p>


	<p>The script still works fine for me.  What problems are you experiencing?</p>
                  </li>
                  
                  <li>
                    <p class="postedOn">
                      <strong>
                        
                          Peter
                        
                      </strong>
                      said on Sat, 04 Aug 2007 01:02:14:
                    </p>
                    <p>I guess they haven&#8217;t done this to all their customers, but they have changed their online banking to look more like their main site&#8230;and in the process have changed URLs, <span class="caps">HTML</span> coding etc. which of course breaks the script.  This is the actual error I get:</p>


	<p>hsbc.rb:30: undefined method `downcase&#8217; for nil:NilClass (NoMethodError)</p>


	<p>presumably because the regex to extract the security code indices doesn&#8217;t match any more. Since I have access to the new online banking I&#8217;ll see if I can add support for it to the script.</p>
                  </li>
                  
                  <li>
                    <p class="postedOn">
                      <strong>
                        
                          Peter
                        
                      </strong>
                      said on Sat, 04 Aug 2007 04:04:03:
                    </p>
                    <p>Here is a new version of the script which is compatible with the new version of the site.  It should also stay compatible with the old version&#8212;since I don&#8217;t have an account which is on the old version I cannot test this.  If you would like to credit me for this please contact me at pcc03 AT doc.ic.ac.uk</p>


	<p>http://www.doc.ic.ac.uk/~pcc03/tmp/hsbc.txt (rename to hsbc.rb)</p>
                  </li>
                  
                </ol>
              
              
              
                <h2>Trackbacks</h2>
                <ol class="trackbacks">
                  
                    <li>
                      <p class="postedOn">
                        From <strong>deferred until inspiration hits</strong> on Sat, 23 Jun 2007 12:40:59
                      </p>
                      <a href="http://blog.seagul.co.uk/articles/2007/06/23/automatically-download-egg-credit-card-transactions" rel="nofollow">Automatically download egg credit card transactions</a><br/>
                      I&#8217;ve followed in my previous footsteps and automated the download of my egg credit card transactions and statements. Using this in combination with my ofx convertor makes it easier for me to upload my financial data to wesabe. As always, the...
                    </li>
                  
                    <li>
                      <p class="postedOn">
                        From <strong>deferred until inspiration hits</strong> on Sat, 23 Jun 2007 18:09:16
                      </p>
                      <a href="http://blog.seagul.co.uk/articles/2007/06/23/automatically-downloading-my-ing-direct-transactions" rel="nofollow">Automatically downloading my Ing Direct transactions</a><br/>
                      I wanted to automate the download of transaction data for my ing direct account. Instead of just pasting up the finished result, I&#8217;ve tried to capture the process I went through, on the off chance it&#8217;s of interest to anyone&#8230; Earl...
                    </li>
                  
                </ol>
              

            </div>
          </div>
        </div>
        <div class="yui-b">
          <img class="avatar" src="/images/me.jpg" width="170px" height="111px" alt="Me">
          
          <ul class="navigation">
            <li>
              <a href="/contents">contents</a>
            </li>
            <li>
              <a href="http://flickr.com/photos/chrisjroos">flickr</a>
            </li>
          </ul>
          
          <div id="twitter_div">
            <h3><a href="http://twitter.com/chrisroos">twitter</a></h3>
            <ul id="twitter_update_list"></ul>
          </div>
          
          <div id="deliciousContainer">
            <h3><a href="http://del.icio.us/chrisjroos">del.icio.us</a></h3>
          </div>
        </div>
      </div>
    </div>
    <div id="ft">
      <!-- Footer -->
    </div>
    
    <script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script>
    <script type="text/javascript" src="http://twitter.com/statuses/user_timeline/chrisroos.json?callback=twitterCallback2&amp;count=5"></script>
    
    <script type="text/javascript" src="http://del.icio.us/feeds/json/chrisjroos?count=5"></script>
    <script type="text/javascript" src="/javascripts/delicious.js"></script>
  
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      if (typeof(_gat) != 'undefined') {
        var pageTracker = _gat._getTracker("UA-160238-1");
        pageTracker._initData();
        pageTracker._trackPageview();
      }
    </script>
  </body>

</html>
