<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

  <head>
    <meta name="microid" content="ff511e16d7108be450fccd6f4611cf8d1d5416d1" >
    <meta http-equiv="content-type" content="text/html; charset=utf-8" >
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/DeferredUntilInspirationHits" >
    <link rel="stylesheet" href="http://yui.yahooapis.com/2.5.1/build/reset-fonts-grids/reset-fonts-grids.css" type="text/css" media="all">
    <link rel="stylesheet" href="/blog.css" type="text/css" media="screen" charset="utf-8">
    <link rel="stylesheet" href="/syntax.css" type="text/css" media="screen" charset="utf-8">
    <link rel="openid.server" href="http://www.myopenid.com/server">
    <link rel="openid.delegate" href="http://chrisroos.myopenid.com/">
    <title>Posts published in March 2008 - deferred until inspiration hits</title>
  </head>
  
  <body>
    
    <div id="doc3" class="yui-t4">
      <div id="hd">
        <h1><a class="blogTitle" href="/">deferred until inspiration hits</a></h1>
      </div>
      <div id="bd">
        <div id="yui-main">
          <div class="yui-b">
            <div class="yui-g">

              
                <h2>
                  <a href="/articles/2008/03/31/another-project-public-swimming-pools-in-the-uk">Another project - Public Swimming Pools in the UK</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Mon, 31 Mar 2008 14:18:43">
                    Mon, 31 Mar 2008 14:18:43
                  </span>
                </p>

                <p>Not content with already having a <a href="/articles/2008/02/18/what-ive-been-up-to-projects-and-ideas">bunch of unfinished projects</a> I thought I&#8217;d embark upon another.</p>


	<p>I&#8217;ve struggled in the past to find public swimming pools that I can use when staying in London.  I&#8217;ve searched on multiple occasions and never really found anything useful so figured there was probably a gap waiting to be filled.  Interestingly, I think that someone in or around the government must realise this too.  A search, on google, for <a href="http://www.google.co.uk/search?q=uk+public+swimming+pools">uk public swimming pools</a> results in an <a href="http://adwords.google.com">Adword</a> for <a href="http://direct.gov.uk">DirectGov</a> that takes you to a page promoting the <a href="http://www.activeplaces.com">Active Places</a> website.  This website allows you to search for leisure facilities by postcode or by clicking around a map.  As noted in my <a href="http://del.icio.us/chrisjroos/url/0a078da5074a6c759210508c0bc6a60e">del.icio.us note</a>, I think this could be a valuable site but the current implementation is very very poor: Both from a usability and search engine friendly point of view (I can&#8217;t help but wonder, as it appears to be a Government funded project, through Sport England, how much money has been spent on it).  One last point about the site is that it appears to include data about pools that can&#8217;t actually be used by members of the public (a pool belonging to a local private school appears when searching for pools near home).</p>


	<p>According to this <a href="http://www.theyworkforyou.com/wrans/?id=2008-03-10b.192802.h">parliamentary question</a>, the <a href="http://www.culture.gov.uk/">department for Culture, Media and Sport</a> know the number and type of pools opened and closed since 2004: actually, I&#8217;ve just noticed that they appear to rely on the Active Places database.  There&#8217;s an email address (actually, a Sport England address) on the Active Places website that I&#8217;m going to use to see if I can get hold of this data.</p>


	<p>The initial, and most basic, site will just list all the public swimming pools and, I&#8217;m hoping this is pretty easy with the <a href="http://code.google.com/apis/maps/">Google Maps <span class="caps">API</span></a>, allow you to search for one by location.  As, and indeed if, the site evolves, I&#8217;d like to get lots more useful information about these pools up: I&#8217;m hoping that allowing users to comment will reveal useful info about the best times to visit depending on what you&#8217;re trying to get out of it.</p>

                
              
                <h2>
                  <a href="/articles/2008/03/29/reference-trackback-server-implementation">Reference Trackback Server implementation</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Sat, 29 Mar 2008 06:27:05">
                    Sat, 29 Mar 2008 06:27:05
                  </span>
                </p>

                <p>To aid my development of the <a href="http://blog.seagul.co.uk/articles/2008/03/04/version-0-2-of-the-del-icio-us-trackback-extension">del.icio.us trackbacks firefox extension</a> I created a reference <a href="http://en.wikipedia.org/wiki/Trackback">trackback</a> server implementation based on the <a href="http://www.sixapart.com/pronet/docs/trackback_spec">trackback specification</a>.</p>


	<p>It&#8217;s written in <a href="http://www.ruby-lang.org">Ruby</a> as a <a href="http://mongrel.rubyforge.org/">Mongrel</a> handler and stores the trackbacks serialized to <a href="http://en.wikipedia.org/wiki/YAML"><span class="caps">YAML</span></a> on the filesystem.  The code is over in <a href="http://code.google.com/p/chrisroos/">my google code repository</a> (no direct link as I plan to move the trackback-server from its current home in /trunk/scratch to /trunk/www/trackbacks.seagul.co.uk).</p>


	<p>On the off-chance that someone else might find it useful I&#8217;m currently hosting it at <a href="http://trackbacks.seagul.co.uk">http://trackbacks.seagul.co.uk</a>.  You might use it to see the del.icio.us trackbacks extension in action or to test the sending of trackbacks from your blog (the trackback <span class="caps">URL</span> is <a href="http://trackbacks.seagul.co.uk/trackback">http://trackbacks.seagul.co.uk/trackback</a>).  Or, you could just play with it using <a href="http://curl.haxx.se">curl</a>.</p>


<div class="typocode"><pre><code class="typocode_default"># Let's just try to GET the trackback URL
$ curl http://trackbacks.seagul.co.uk/trackback
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;response&gt;
  &lt;error&gt;1&lt;/error&gt;
  &lt;message&gt;Http Method MUST be POST&lt;/message&gt;
&lt;/response&gt;

# OK, so we'll POST to the trackback URL
$ curl http://trackbacks.seagul.co.uk/trackback -X&quot;POST&quot;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;response&gt;
  &lt;error&gt;1&lt;/error&gt;
  &lt;message&gt;Content-Type MUST be 'application/x-www-form-urlencoded' with OPTIONAL character encoding&lt;/message&gt;
&lt;/response&gt;

# Posting with the correct Content-Type
$ curl http://trackbacks.seagul.co.uk/trackback -X&quot;POST&quot; -H&quot;Content-Type: application/x-wencoded&quot;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;response&gt;
  &lt;error&gt;1&lt;/error&gt;
  &lt;message&gt;You MUST send the URL of your post (permalink) that mentions this post.&lt;/message&gt;
&lt;/response&gt;

# Post with the correct Content-Type and the required URL parameter to actually have a trackback created on the server
$ curl http://trackbacks.seagul.co.uk/trackback -X&quot;POST&quot; -H&quot;Content-Type: application/x-wencoded&quot; -d&quot;url=http://example.com&quot;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;response&gt;
  &lt;error&gt;0&lt;/error&gt;
&lt;/response&gt;</code></pre></div>

                
              
                <h2>
                  <a href="/articles/2008/03/29/files-hosted-on-google-groups-cannot-be-opened-in-safari-or-internet-explorer">Files hosted on Google Groups cannot be opened in Safari (or Internet Explorer)</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Sat, 29 Mar 2008 06:06:02">
                    Sat, 29 Mar 2008 06:06:02
                  </span>
                </p>

                <p>I noticed a little while ago that opening a, <a href="http://groups.google.com">Google Groups</a> hosted, file in <a href="http://www.apple.com/safari/">Safari</a> didn&#8217;t work.  I have a file at <a href="http://delicious-trackbacks.googlegroups.com/web/installation.html">http://delicious-trackbacks.googlegroups.com/web/installation.html</a> that you can try out if you&#8217;re so inclined.  Requests for that file result in a page being rendered in Firefox but not in Safari or Internet Explorer (6 at least).  <a href="http://interblah.net/">James</a> noticed that requests for these hosted files were resulting in a 302 response, as we can see from this <a href="http://curl.haxx.se/">curl</a> output.</p>


<div class="typocode"><pre><code class="typocode_default">curl &quot;http://delicious-trackbacks.googlegroups.com/web/installation.html&quot; -v -X&quot;HEAD&quot;

&lt; HTTP/1.1 302 Moved Temporarily
&lt; Content-Type: text/html; charset=UTF-8
&lt; Content-Length: 0
&lt; Cache-control: private
&lt; Server: GFE/1.3
&lt; Date: Fri, 28 Mar 2008 19:55:58 GMT</code></pre></div>

	<p>The response also includes a body that contains a link to the actual file you want with some kind of key in the querystring.  Interestingly the response doesn&#8217;t return a Location header.</p>


	<p>The <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.3"><span class="caps">HTTP</span> specification</a> states the following:</p>


	<blockquote>
		<p>The temporary <span class="caps">URI SHOULD</span> be given by the Location field in the response. Unless the request method was <span class="caps">HEAD</span>, the entity of the response <span class="caps">SHOULD</span> contain a short hypertext note with a hyperlink to the new <acronym title="s">URI</acronym>.</p>
	</blockquote>


	<p>So, it looks like Google are sending a valid response according to the spec (although I&#8217;m not sure whether they&#8217;re intentionally leaving the Location header out) but that Safari and Internet Explorer are unable to deal with it.</p>


	<p>I found an existing report of <a href="http://bugs.webkit.org/show_bug.cgi?id=15822">the bug</a> over at the <a href="http://webkit.org/">webkit</a> <a href="http://bugs.webkit.org/">bug tracker</a> and added this information to it.  I also sent a <a href="http://groups.google.com/group/Is-Something-Broken/browse_thread/thread/9e9a51c2b6841c8f/28088b462550858e#28088b462550858e">message</a> to the <a href="http://groups.google.com/group/Google-Groups-Guide">Google Groups: Is Something Broken</a> group.</p>

                
              
                <h2>
                  <a href="/articles/2008/03/28/version-control-commit-note-best-practice-or-not-you-decide">Version Control Commit Note Best Practice (or not, you decide)</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Fri, 28 Mar 2008 19:17:57">
                    Fri, 28 Mar 2008 19:17:57
                  </span>
                </p>

                <p>This is my own opinion but it has evolved from the need to dig back into past commit notes <strong>a lot</strong>.  The lazy approach to writing commit notes is just to explain what&#8217;s in the changeset (much like a code comment that says &#8220;set x to 1&#8221;):  It&#8217;s exactly what I used to write (and still do if I&#8217;m not concentrating).  The more useful approach is to explain why the changeset is there.  I can take two of my own commit notes as examples.</p>


	<h2>Useless commit note</h2>


	<blockquote>
		<p>Capistrano deploy:setup should generate apache proxy cluster configuration.</p>
	</blockquote>


	<p>This is a fairly useless commit note: If I was to come back to this (as I did today when looking at it) I would have no idea what I was trying to achieve.  Why should the config be generated at setup and not at some other point in the deploy process?  If I&#8217;d spent an extra 30 seconds writing the note in the first place I wouldn&#8217;t have to try to work out what I was trying to achieve.</p>


	<h2>More useful commit note</h2>


	<blockquote>
		<p>This isn't a card but _has_ been bugging me for a long time. You can now click on the <product_type> in the 'Top 3 <product_type>' headings on super category pages to visit that product type. Oh, I also made them h2s as having multiple h1s on a page just doesn't make sense.</p>
	</blockquote>


	<p>This is a much more useful (imho) comment.  If at some point in the future we want to know why the &#8216;top 3 product types&#8217; is now a link, we can come back to the note and see that it was because I, personally, was fed up of it not being so.  I also explain why I&#8217;ve changed the heading from a h1 to h2 (although that comment could be open to interpretation: why doesn&#8217;t it make sense?).</p>


	<p>This all ties into submitting small checkins that are only doing one thing, but I might try to give some examples of that separately.</p>


	<p>Anyone else have any thoughts or alternative approaches?</p>

                
              
                <h2>
                  <a href="/articles/2008/03/04/version-0-2-of-the-del-icio-us-trackback-extension">Version 0.2 of the del.icio.us trackback extension</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Tue, 04 Mar 2008 09:30:00">
                    Tue, 04 Mar 2008 09:30:00
                  </span>
                </p>

                <p>I finally got round to compiling the <a href="http://blog.seagul.co.uk/articles/2008/02/04/sending-trackbacks-to-the-sites-that-you-bookmark-in-del-icio-us">del.icio.us trackback extension</a> I wrote about a while back.</p>


	<p>You can install it from the installation.html<sup><a href="#fn1">1</a></sup> page on the <a href="http://groups.google.com/group/delicious-trackbacks">del.icio.us trackbacks google group</a>.  Feel free to use that group to post any questions you have too.</p>


	<p>Current features:</p>


	<ul>
	<li>Scans the html of the page you&#8217;re bookmarking looking for a link (anchor) with a rel attribute whose value is trackback.</li>
		<li>Sends a request to the trackback <span class="caps">URI</span> if it was found.</li>
		<li>Records (by adding the &#8216;dtb-sent&#8217; tag) the sending of the trackback so that we can avoid sending multiple trackbacks to the same site.</li>
		<li>Records the success (&#8216;dtb-success&#8217; tag) or failure (&#8216;dtb-failure&#8217;) of the trackback request.</li>
	</ul>


	<p>That&#8217;s all for now.</p>


	<p id="fn1"><sup>1</sup> I don&#8217;t appear to be able to link directly to that page which is a bit odd.</p>

                
              

            </div>
          </div>
        </div>
        <div class="yui-b">
          <ul class="navigation">
            <li>
              <a href="/contents">contents</a>
            </li>
            <li>
              <a href="http://twitter.com/chrisroos">twitter</a>
            </li>
            <li>
              <a href="http://flickr.com/photos/chrisjroos">flickr</a>
            </li>
            <li>
              <a href="http://del.icio.us/chrisjroos">del.icio.us</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div id="ft">
      <!-- Footer -->
    </div>
  
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-160238-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>
  </body>

</html>