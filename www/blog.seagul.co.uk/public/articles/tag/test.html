<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

  <head>
    <meta name="microid" content="ff511e16d7108be450fccd6f4611cf8d1d5416d1" >
    <meta http-equiv="content-type" content="text/html; charset=utf-8" >
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/DeferredUntilInspirationHits" >
    <link rel="stylesheet" href="http://yui.yahooapis.com/2.5.1/build/reset-fonts-grids/reset-fonts-grids.css" type="text/css" media="all">
    <link rel="stylesheet" href="/blog.css" type="text/css" media="screen" charset="utf-8">
    <link rel="stylesheet" href="/syntax.css" type="text/css" media="screen" charset="utf-8">
    <link rel="openid.server" href="http://www.myopenid.com/server">
    <link rel="openid.delegate" href="http://chrisroos.myopenid.com/">
    <title>Posts tagged test - deferred until inspiration hits</title>
  </head>
  
  <body>
    
    <div id="doc3" class="yui-t4">
      <div id="hd">
        <h1><a class="blogTitle" href="/">deferred until inspiration hits</a></h1>
      </div>
      <div id="bd">
        <div id="yui-main">
          <div class="yui-b">
            <div class="yui-g">

              
                <h2>
                  <a href="/articles/2008/01/16/testing-my-mod_rewrite-configuration-with-ruby">Testing my mod_rewrite configuration with ruby</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Wed, 16 Jan 2008 09:31:00">
                    Wed, 16 Jan 2008 09:31:00
                  </span>
                </p>

                <p>In order to ensure that I didn&#8217;t break anything while setting up my <a href="http://blog.seagul.co.uk/articles/2008/01/16/chris-1-mod_rewrite-0-muhahahaha">mod_rewrite rules</a> I created a little <a href="http://chrisroos.googlecode.com/svn/trunk/the-local-paper/apache_test.rb">ruby script</a> to test my expectations.  I&#8217;ve cut down the rules in the example below but you should get the idea.  It&#8217;d be quite cool to create a little dsl to better express the intentions of the code.</p>


<div class="typocode"><pre><code class="typocode_ruby"><span class="ident">require</span> <span class="punct">'</span><span class="string">net/http</span><span class="punct">'</span>

<span class="ident">expectations</span> <span class="punct">=</span> <span class="punct">{</span>
  <span class="comment"># Redirect www. to .</span>
  <span class="punct">'</span><span class="string">http://www.the-local-paper.co.uk/</span><span class="punct">'</span> <span class="punct">=&gt;</span> <span class="punct">{</span>
    <span class="symbol">:url</span> <span class="punct">=&gt;</span> <span class="punct">'</span><span class="string">http://the-local-paper.co.uk/</span><span class="punct">',</span> <span class="symbol">:code</span> <span class="punct">=&gt;</span> <span class="punct">'</span><span class="string">301</span><span class="punct">'</span>
  <span class="punct">},</span>
  <span class="comment"># Requests for the-local-paper.co.uk should return a 200 (OK) response</span>
  <span class="punct">'</span><span class="string">http://the-local-paper.co.uk/</span><span class="punct">'</span> <span class="punct">=&gt;</span> <span class="punct">{</span>
    <span class="symbol">:code</span> <span class="punct">=&gt;</span> <span class="punct">'</span><span class="string">200</span><span class="punct">'</span>
  <span class="punct">}</span>
<span class="punct">}</span>

<span class="ident">expectations</span><span class="punct">.</span><span class="ident">each</span> <span class="keyword">do</span> <span class="punct">|</span><span class="ident">request_url</span><span class="punct">,</span> <span class="ident">expected_attributes</span><span class="punct">|</span>
  <span class="ident">puts</span> <span class="punct">&quot;</span><span class="string">Requesting: <span class="expr">#{request_url}</span></span><span class="punct">&quot;</span>

  <span class="ident">url</span> <span class="punct">=</span> <span class="constant">URI</span><span class="punct">.</span><span class="ident">parse</span><span class="punct">(</span><span class="ident">request_url</span><span class="punct">)</span>
  <span class="ident">request</span> <span class="punct">=</span> <span class="constant">Net</span><span class="punct">::</span><span class="constant">HTTP</span><span class="punct">::</span><span class="constant">Get</span><span class="punct">.</span><span class="ident">new</span><span class="punct">(</span><span class="ident">url</span><span class="punct">.</span><span class="ident">path</span><span class="punct">)</span>
  <span class="ident">response</span> <span class="punct">=</span> <span class="constant">Net</span><span class="punct">::</span><span class="constant">HTTP</span><span class="punct">.</span><span class="ident">start</span><span class="punct">(</span><span class="ident">url</span><span class="punct">.</span><span class="ident">host</span><span class="punct">,</span> <span class="ident">url</span><span class="punct">.</span><span class="ident">port</span><span class="punct">)</span> <span class="keyword">do</span> <span class="punct">|</span><span class="ident">http</span><span class="punct">|</span>
    <span class="ident">http</span><span class="punct">.</span><span class="ident">request</span><span class="punct">(</span><span class="ident">request</span><span class="punct">)</span>
  <span class="keyword">end</span>

  <span class="keyword">if</span> <span class="ident">redirection_url</span> <span class="punct">=</span> <span class="ident">expected_attributes</span><span class="punct">[</span><span class="symbol">:url</span><span class="punct">]</span>
    <span class="keyword">raise</span> <span class="punct">&quot;</span><span class="string">Expected '<span class="expr">#{redirection_url}</span>' in the Location header but got '<span class="expr">#{response['Location']}</span>'.</span><span class="punct">&quot;</span> <span class="keyword">unless</span> <span class="ident">redirection_url</span> <span class="punct">==</span> <span class="ident">response</span><span class="punct">['</span><span class="string">Location</span><span class="punct">']</span>
  <span class="keyword">end</span>
  <span class="keyword">if</span> <span class="ident">status_code</span> <span class="punct">=</span> <span class="ident">expected_attributes</span><span class="punct">[</span><span class="symbol">:code</span><span class="punct">]</span>
    <span class="keyword">raise</span> <span class="punct">&quot;</span><span class="string">Expected status code of (<span class="expr">#{status_code}</span>) but got (<span class="expr">#{response.code}</span>).</span><span class="punct">&quot;</span> <span class="keyword">unless</span> <span class="ident">status_code</span> <span class="punct">==</span> <span class="ident">response</span><span class="punct">.</span><span class="ident">code</span>
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre></div>

                
                  <p>
                    Tags 
                    
                      <a href="/articles/tag/apache" rel="tag">apache</a>, 
                    
                      <a href="/articles/tag/mod_rewrite" rel="tag">mod_rewrite</a>, 
                    
                      <a href="/articles/tag/ruby" rel="tag">ruby</a>, 
                    
                      <a href="/articles/tag/test" rel="tag">test</a>, 
                    
                  </p>
                
              
                <h2>
                  <a href="/articles/2007/09/27/why-should-it-do-that">Why should it do that?</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Thu, 27 Sep 2007 07:36:00">
                    Thu, 27 Sep 2007 07:36:00
                  </span>
                </p>

                <p>I&#8217;ve started looking into my *cough* promise *cough* to do that <a href="http://blog.seagul.co.uk/articles/2007/06/01/an-open-letter-to-my-local-newspapers">local paper</a> site I mentioned sometime ago.  The code is all in me <a href="http://chrisroos.googlecode.com">google code</a> <a href="http://chrisroos.googlecode.com/svn/trunk/the-local-paper/">repository</a> if you want to see how it&#8217;s going (or finish it when I inevitably get bored again&#8230;).</p>


	<p>Anyway, the point of this post is that I realised something about testing that I feel I may have missed in the past.  I&#8217;ve got used to stating the <a href="http://behaviour-driven.org/">behavior</a> of the objects in my system through tests.  So, when I wanted to ensure that an article couldn&#8217;t be created without a title, I added a test like so:</p>


<div class="typocode"><pre><code class="typocode_ruby"><span class="keyword">class </span><span class="class">ArticleTest</span> <span class="punct">&lt;</span> <span class="constant">Test</span><span class="punct">::</span><span class="constant">Unit</span><span class="punct">::</span><span class="constant">TestCase</span>
  <span class="keyword">def </span><span class="method">test_should_validate_presence_of_title</span>
    <span class="punct">...</span>
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre></div>

	<p>In fact, for an article comprised of a title, an edition, a page number and an author, I wanted to ensure that all were there apart from the author.  It was only once I&#8217;d added tests to <a href="http://api.rubyonrails.org/classes/ActiveRecord/Validations.html">validate</a> the presence of the other three attributes that I realised it was probably important to prove that an author wasn&#8217;t required.  So, I added the relevant test.</p>


<div class="typocode"><pre><code class="typocode_ruby"><span class="keyword">class </span><span class="class">ArticleTest</span> <span class="punct">&lt;</span> <span class="constant">Test</span><span class="punct">::</span><span class="constant">Unit</span><span class="punct">::</span><span class="constant">TestCase</span>
  <span class="keyword">def </span><span class="method">test_should_not_validate_presence_of_author</span>
    <span class="punct">...</span>
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre></div>

	<p>That&#8217;s all well and good, but I&#8217;ve lost some information: <span class="caps">WHY</span> it shouldn&#8217;t validate the presence of an author.  I know at the moment why it shouldn&#8217;t (because short articles don&#8217;t have an author listed), but will I know at some point the future?  I suspect not.  The same obviously applies for the things that I do want to ensure are present.  Why do I care that an article has a title, edition and page number?  At the moment I care because I&#8217;m planning on making them part of the <span class="caps">URL</span>, but what if I decide not to go down that route, yet leave the tests there?  There&#8217;ll be no easy way for someone in the future to determine whether those things are actually important or not.</p>


	<p>I wonder if this issue was highlighted because of my lack of <a href="http://subversion.tigris.org/"><span class="caps">SVN</span></a> access.  I generally like really small checkins to my <a href="http://en.wikipedia.org/wiki/Revision_control">version control software</a> which would&#8217;ve allowed me to have added and committed those validation additions one at a time, and with messages that would have stated the reasons for that change<sup><a href="#fn1">1</a></sup>.  Being disconnected means that I end up with bigger checkins that inevitably lose some information.  Actually, the more I think about it, the more I think that the repository isn&#8217;t the right place for this information anyway &#8211; it&#8217;s too far away from the code that&#8217;s solving the problems.</p>


	<p>How do other people solve this potential loss of knowledge?  Am I missing something obvious, or have I really just not noticed this before?</p>


	<p>P.S. I spent a few minutes chatting with <a href="http://interblah.net/">James</a> about it today and he had some interesting suggestions, although I&#8217;ll leave it up to him to share those if he wants (no pressure James, I&#8217;m just running out of time right now I&#8217;m afraid).</p>


	<p id="fn1"><sup>1</sup> <a href="http://po-ru.com">Paul</a> suggested a while back that we use the commit note to explain the problem that we&#8217;ve solved, rather than just describing the changeset.  Unfortunately, I can&#8217;t find the source of that suggestion so no link I&#8217;m afraid.</p>

                
                  <p>
                    Tags 
                    
                      <a href="/articles/tag/agiledox" rel="tag">agiledox</a>, 
                    
                      <a href="/articles/tag/bdd" rel="tag">bdd</a>, 
                    
                      <a href="/articles/tag/development" rel="tag">development</a>, 
                    
                      <a href="/articles/tag/ruby" rel="tag">ruby</a>, 
                    
                      <a href="/articles/tag/tdd" rel="tag">tdd</a>, 
                    
                      <a href="/articles/tag/test" rel="tag">test</a>, 
                    
                      <a href="/articles/tag/testing" rel="tag">testing</a>, 
                    
                  </p>
                
              
                <h2>
                  <a href="/articles/2006/10/14/some-useful-assertions-maybe">Some useful assertions, maybe</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Sat, 14 Oct 2006 10:27:00">
                    Sat, 14 Oct 2006 10:27:00
                  </span>
                </p>

                <p>The first is to ensure two arrays contain the same elements not necessarily in the same order.</p>


<div class="typocode"><pre><code class="typocode_ruby"><span class="ident">require</span> <span class="punct">'</span><span class="string">test/unit</span><span class="punct">'</span>

<span class="ident">require</span> <span class="punct">'</span><span class="string">set</span><span class="punct">'</span>
<span class="keyword">module </span><span class="module">AssertEqualArray</span>

  <span class="keyword">def </span><span class="method">assert_equal_array</span><span class="punct">(</span><span class="ident">array_1</span><span class="punct">,</span> <span class="ident">array_2</span><span class="punct">)</span>
    <span class="ident">assert_equal</span> <span class="ident">array_1</span><span class="punct">.</span><span class="ident">size</span><span class="punct">,</span> <span class="ident">array_2</span><span class="punct">.</span><span class="ident">size</span><span class="punct">,</span> <span class="punct">&quot;</span><span class="string">Arrays must be of the same size to be equal</span><span class="punct">&quot;</span>
    <span class="ident">assert_equal</span> <span class="ident">array_1</span><span class="punct">.</span><span class="ident">to_set</span><span class="punct">,</span> <span class="ident">array_2</span><span class="punct">.</span><span class="ident">to_set</span>
  <span class="keyword">end</span>

<span class="keyword">end</span>

<span class="keyword">class </span><span class="class">Test::Unit::TestCase</span>
  <span class="ident">include</span> <span class="constant">AssertEqualArray</span>
<span class="keyword">end</span>

<span class="keyword">class </span><span class="class">MyTest</span> <span class="punct">&lt;</span> <span class="constant">Test</span><span class="punct">::</span><span class="constant">Unit</span><span class="punct">::</span><span class="constant">TestCase</span>

  <span class="keyword">def </span><span class="method">test_should_assert_equal_arrays</span>
    <span class="ident">assert_equal_array</span> <span class="punct">[</span><span class="number">1</span><span class="punct">,</span> <span class="number">2</span><span class="punct">,</span> <span class="number">3</span><span class="punct">],</span> <span class="punct">[</span><span class="number">2</span><span class="punct">,</span> <span class="number">1</span><span class="punct">,</span> <span class="number">3</span><span class="punct">]</span>
  <span class="keyword">end</span>

<span class="keyword">end</span></code></pre></div>

	<p>The second is to test for generated warnings.  In my <a href="http://blog.seagul.co.uk/articles/2006/10/06/recording-daily-spending-with-a-ruby-dsl">current project</a> app, I use method_missing and wanted to warn the user if the unknown message looks like it&#8217;s supposed to be a payment mechanism&#8230;</p>


<div class="typocode"><pre><code class="typocode_ruby"><span class="ident">day</span> <span class="punct">'</span><span class="string">25-oct-2006</span><span class="punct">'</span> <span class="keyword">do</span>
  <span class="ident">cash</span> <span class="number">30.29</span><span class="punct">,</span> <span class="ident">beer</span>
<span class="keyword">end</span>

<span class="comment"># Results in NoMethodError and, more importantly, this friendly warning..</span>
<span class="comment"># Maybe you expected 'cash' to be a payment mechanism?</span>
<span class="comment"># Cool huh?</span></code></pre></div>

	<p>Anyway, I wanted a way to test that the warning was being generated and came up with another assertion&#8230;</p>


<div class="typocode"><pre><code class="typocode_ruby"><span class="ident">require</span> <span class="punct">'</span><span class="string">test/unit</span><span class="punct">'</span>

<span class="ident">require</span> <span class="punct">'</span><span class="string">stringio</span><span class="punct">'</span>
<span class="keyword">module </span><span class="module">AssertWarning</span>

  <span class="keyword">def </span><span class="method">assert_warning</span><span class="punct">(</span><span class="ident">expected_warning</span><span class="punct">,</span> <span class="punct">&amp;</span><span class="ident">blk</span><span class="punct">)</span>
    <span class="ident">original_stderr</span> <span class="punct">=</span> <span class="global">$stderr</span>
    <span class="global">$stderr</span> <span class="punct">=</span> <span class="ident">stderr</span> <span class="punct">=</span> <span class="constant">StringIO</span><span class="punct">.</span><span class="ident">new</span>
    <span class="keyword">yield</span>
    <span class="ident">assert_equal</span> <span class="ident">expected_warning</span><span class="punct">,</span> <span class="ident">stderr</span><span class="punct">.</span><span class="ident">string</span><span class="punct">.</span><span class="ident">chomp</span>
  <span class="keyword">ensure</span>
    <span class="global">$stderr</span> <span class="punct">=</span> <span class="ident">original_stderr</span>
  <span class="keyword">end</span>

<span class="keyword">end</span>

<span class="keyword">class </span><span class="class">Test::Unit::TestCase</span>
  <span class="ident">include</span> <span class="constant">AssertWarning</span>
<span class="keyword">end</span>

<span class="keyword">class </span><span class="class">MyTest</span> <span class="punct">&lt;</span> <span class="constant">Test</span><span class="punct">::</span><span class="constant">Unit</span><span class="punct">::</span><span class="constant">TestCase</span>

  <span class="keyword">def </span><span class="method">test_should_assert_warning</span>
    <span class="ident">assert_warning</span><span class="punct">('</span><span class="string">this is a warning</span><span class="punct">')</span> <span class="punct">{</span> <span class="constant">Kernel</span><span class="punct">::</span><span class="ident">warn</span><span class="punct">('</span><span class="string">this is a warning</span><span class="punct">')</span> <span class="punct">}</span>
  <span class="keyword">end</span>

<span class="keyword">end</span></code></pre></div>

                
                  <p>
                    Tags 
                    
                      <a href="/articles/tag/assertions" rel="tag">assertions</a>, 
                    
                      <a href="/articles/tag/ruby" rel="tag">ruby</a>, 
                    
                      <a href="/articles/tag/test" rel="tag">test</a>, 
                    
                  </p>
                
              
                <h2>
                  <a href="/articles/2006/02/08/in-memory-sqlite-database-for-rails-testing">In memory sqlite database for rails testing</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Wed, 08 Feb 2006 08:54:00">
                    Wed, 08 Feb 2006 08:54:00
                  </span>
                </p>

                <p><strong>Update 12th June 2006</strong></p>


	<p>There is now a <a href="http://nubyonrails.com/articles/2006/06/01/san-francisco-sqlite3-memory-tests-asteroids">plugin</a> from <a href="http://nubyonrails.com/">Geoffrey Grosenbach</a> that encapsulates this hack.</p>


	<p><del>-</del></p>


	<p>I finally took some time to get the <a href="http://www.sqlite.org">sqlite</a> in memory database working correctly for testing <a href="http://www.rubyonrails.com">Rails</a> apps.</p>


	<p>It appears to be available by default (appearing in the example database.yml file) as</p>


<div class="typocode"><pre><code class="typocode_default">sqlite3_in_memory_example:
  adapter: sqlite3
  database: &quot;:memory:&quot;</code></pre></div>

	<p>Unfortunately, it doesn&#8217;t appear to be quite as easy as just replacing sqlite3_in_memory_example with test&#8230;  The main problem being that in-memory databases have a tendency not to hang around (odd that).</p>


	<p>My solution (which has every chance of being bad or downright incorrect) is to force the creation of the database in memory at the beginning of the tests.</p>


	<p>The current implementation relies on either schema.rb being present or comprehensive migrations (i.e. you can use migrations to get a database from zero to your current development status).</p>


	<p>If you wish to use the schema.rb approach then uncomment the following line in your environment.rb file.</p>


<div class="typocode"><pre><code class="typocode_ruby"><span class="ident">config</span><span class="punct">.</span><span class="ident">active_record</span><span class="punct">.</span><span class="ident">schema_format</span> <span class="punct">=</span> <span class="symbol">:ruby</span></code></pre></div>

	<p>Un-commenting this option ensures that the database schema is exported to schema.rb rather than adapter specific sql (ENV_database.sql).</p>


	<p>Add the following code right below the &#8221;# Include your application configuration below&#8221; line in environment.rb.</p>


<div class="typocode"><pre><code class="typocode_ruby"><span class="keyword">def </span><span class="method">in_memory_database?</span>
  <span class="constant">ENV</span><span class="punct">[&quot;</span><span class="string">RAILS_ENV</span><span class="punct">&quot;]</span> <span class="punct">==</span> <span class="punct">&quot;</span><span class="string">test</span><span class="punct">&quot;</span> <span class="keyword">and</span> 
  <span class="constant">ActiveRecord</span><span class="punct">::</span><span class="constant">Base</span><span class="punct">.</span><span class="ident">connection</span><span class="punct">.</span><span class="keyword">class </span><span class="class">==</span> <span class="ident">ActiveRecord</span><span class="punct">::</span><span class="ident">ConnectionAdapters</span><span class="punct">::</span><span class="ident">SQLiteAdapter</span> <span class="ident">and</span>
  <span class="constant">Rails</span><span class="punct">::</span><span class="constant">Configuration</span><span class="punct">.</span><span class="ident">new</span><span class="punct">.</span><span class="ident">database_configuration</span><span class="punct">['</span><span class="string">test</span><span class="punct">']['</span><span class="string">database</span><span class="punct">']</span> <span class="punct">==</span> <span class="punct">'</span><span class="string">:memory:</span><span class="punct">'</span>
<span class="keyword">end</span>

<span class="keyword">if</span> <span class="ident">in_memory_database?</span>
  <span class="ident">puts</span> <span class="punct">&quot;</span><span class="string">creating sqlite in memory database</span><span class="punct">&quot;</span>
  <span class="ident">load</span> <span class="punct">&quot;</span><span class="string"><span class="expr">#{RAILS_ROOT}</span>/db/schema.rb</span><span class="punct">&quot;</span> <span class="comment"># use db agnostic schema by default</span>
<span class="comment">#  ActiveRecord::Migrator.up('db/migrate') # use migrations</span>
<span class="keyword">end</span></code></pre></div>

	<p>The reason for adding this code at this point and not just at the end of the environment file is that you may have further logic in environment that actually relies on the database being present.</p>


	<p>If you are running your tests using rake then it shouldn&#8217;t matter whether you use the schema or migrations to create the database.  This is because the rake test tasks rely on the test database being set-up, which involves exporting the development db schema to file.</p>


	<p>If you wish to run tests individually (which, of course, you do) and you choose to use the schema to create your test scructure, you must make sure that it first exists.  The easiest way is to run the following rake task.</p>


<div class="typocode"><pre><code class="typocode_default">rake db_schema_dump</code></pre></div>

	<p>That should be all there is to it; although I must confess that I&#8217;ve seen additional strange problems when running certain tests against the sqlite in-memory database.  In certain cases I think these may be fixture related.  Where, in <a href="http://www.mysql.org">MySql</a>, you seem to be able to omit required fields (not null) from a fixtures file, sqlite requires their presence.  In other cases; who knows&#8230;</p>


	<h3>Testing your sqlite installation</h3>


	<p>One final note that may be of interest.  When I first started playing with sqlite3 with Ruby it seems that I didn&#8217;t have it installed correctly (relying on pre-installed sqlite and the sqlite3-ruby gem).  As per <a href="http://wiki.rubyonrails.org/rails/pages/HowtoUseSQLite">this article</a> I had to un-install sqlite3-ruby gem and first install the swig port before re-installing sqlite3-ruby gem.  You can test for the correct installation by running the <a href="http://wiki.rubyonrails.com/rails/pages/ActiveRecord">Active Record</a> tests against sqlite by following these steps.</p>


	<ul>
	<li>Change directory to Active Record tests (rails/activerecord/test)</li>
	</ul>


	<ul>
	<li>Run base_test.rb, supplying the location of the sqlite3 connection to the load path.</li>
	</ul>


	<ul>
	<li><code>ruby -I "connections/native_sqlite3/" base_test.rb</code></li>
	</ul>


	<p>You can also run the tests using the sqlite3 in memory connection.  To do so, perform these actions before running the tests as above.</p>


	<ul>
	<li>Remove the standard sqlite3 connection</li>
	</ul>


	<ul>
	<li><code>rm connections/native_sqlite3/connection.rb</code></li>
	</ul>


	<ul>
	<li>Rename in_memory_connection.rb as connection.rb</li>
	</ul>


	<ul>
	<li><code>mv connections/in_memory_connection.rb connections/connection.rb</code></li>
	</ul>


	<p>I&#8217;d suggest doing this against an svn checked out copy of rails, purely due to the these at which the changes can be reverted.</p>


	<h3>Useless stats</h3>


	<p>Changing to in-memory testing shaved about 33% off the running time of our unit tests.</p>

                
                  <p>
                    Tags 
                    
                      <a href="/articles/tag/rails" rel="tag">rails</a>, 
                    
                      <a href="/articles/tag/ruby" rel="tag">ruby</a>, 
                    
                      <a href="/articles/tag/sqlite" rel="tag">sqlite</a>, 
                    
                      <a href="/articles/tag/test" rel="tag">test</a>, 
                    
                  </p>
                
              
                <h2>
                  <a href="/articles/2005/11/18/i-dont-know-how-to-use-the-debugger">I don't know how to use the debugger</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Fri, 18 Nov 2005 11:08:00">
                    Fri, 18 Nov 2005 11:08:00
                  </span>
                </p>

                <p>I currently use <a href="http://www.ruby-lang.org">Ruby</a> and <a href="http://www.rubyonrails.com">Rails</a> all day, every day, at <a href="http://www.revieworld.com">work</a>.  It&#8217;s great.</p>


	<p>Now, I don&#8217;t actually know how to use the Ruby debugger; I&#8217;ve taken a look at it in the past and am sure I could use it; it&#8217;s just that I&#8217;ve never had the need.</p>


	<p>As with lots of things, I&#8217;ve been meaning to take a more detailed look for a while; mainly so that I could say &#8216;I know how to use that&#8217;.  Then, this morning, I realised that maybe it wasn&#8217;t such a bad thing not to know.  If I can develop software that works<sup><a href="#fn1">1</a></sup> without the help of the debugger<sup><a href="#fn2">2</a></sup> then, unless the need arises, why bother?</p>


	<p id="fn1"><sup>1</sup> It works when the tests pass.</p>


	<p id="fn2"><sup>2</sup> But very much with the help of unit tests.</p>

                
                  <p>
                    Tags 
                    
                      <a href="/articles/tag/development" rel="tag">development</a>, 
                    
                      <a href="/articles/tag/driven" rel="tag">driven</a>, 
                    
                      <a href="/articles/tag/programming" rel="tag">programming</a>, 
                    
                      <a href="/articles/tag/ruby" rel="tag">ruby</a>, 
                    
                      <a href="/articles/tag/test" rel="tag">test</a>, 
                    
                      <a href="/articles/tag/unit" rel="tag">unit</a>, 
                    
                  </p>
                
              

            </div>
          </div>
        </div>
        <div class="yui-b">
          <img src="/images/me.jpg" width="170px" height="111px" alt="Me">
          <ul class="navigation">
            <li>
              <a href="/contents">contents</a>
            </li>
            <li>
              <a href="http://twitter.com/chrisroos">twitter</a>
            </li>
            <li>
              <a href="http://flickr.com/photos/chrisjroos">flickr</a>
            </li>
            <li>
              <a href="http://del.icio.us/chrisjroos">del.icio.us</a>
            </li>
          </ul>
          <div id="twitter_div">
            <h3><a href="http://twitter.com/chrisroos">twitter</a></h3>
            <ul id="twitter_update_list"></ul>
          </div>
        </div>
      </div>
    </div>
    <div id="ft">
      <!-- Footer -->
    </div>
    
    <script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script>
    <script type="text/javascript" src="http://twitter.com/statuses/user_timeline/chrisroos.json?callback=twitterCallback2&count=5"></script>
  
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-160238-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>
  </body>

</html>