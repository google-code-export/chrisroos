<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

  <head>
    <!--#include virtual="/includes/_head.html"-->
    <title>Posts tagged tinyurl - deferred until inspiration hits</title>
    <meta name="robots" content="noindex" />
  </head>
  
  <body>
    
    <div id="doc3" class="yui-t4">
      <div id="hd">
        <!--#include virtual="/includes/_header.html"-->
      </div>
      <div id="bd">
        <div id="yui-main">
          <div class="yui-b">
            <div class="yui-g">

              
                <h2>
                  <a href="/articles/2007/12/07/more-on-those-friendly-urls">More on those friendly URLs</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Fri, 07 Dec 2007 07:26:00">
                    Fri, 07 Dec 2007 07:26:00
                  </span>
                </p>

                <p>So, <a href="http://twitter.com/chrisroos/statuses/477052802">not being able to sleep</a> does have some benefits.  I managed to get started on my latest little <a href="http://blog.seagul.co.uk/articles/2007/11/27/short-human-friendly-permalinks">pet project</a>.</p>


	<p>I had been using <a href="http://httpd.apache.org/">apache</a> and <a href="http://httpd.apache.org/docs/1.3/mod/mod_rewrite.html">mod_rewrite</a> to redirect &#8220;chrisroos.co.uk/amazonwishlist&#8221; to my actual wishlist.  I had something like this in my apache config.</p>


<div class="typocode"><pre><code class="typocode_default">&lt;VirtualHost *:80&gt;
  ServerAdmin webmaster@seagul.co.uk
  ServerName chrisroos.co.uk
  ServerAlias www.chrisroos.co.uk
  RewriteEngine On
  # &lt;anything&gt;.chrisroos.co.uk -&gt; chrisroos.co.uk
  RewriteCond %{HTTP_HOST} !^chrisroos.co.uk$ [NC]
  RewriteRule ^/(.*)$ http://chrisroos.co.uk/$1 [R=301,L] 
  # Amazon Wishlist
  RewriteRule ^/amazonwishlist http://www.amazon.co.uk/gp/registry/IO9HVNCPEWGD [R]
&lt;/VirtualHost&gt;</code></pre></div>

	<p>I&#8217;ve replaced that with a much simpler apache config that proxies requests to my new <a href="http://mongrel.rubyforge.org/">mongrel</a> redirection handler thing (<a href="http://chrisroos.co.uk/code/mongrel-redirection">source</a> &#8211; hey, even that <span class="caps">URL</span> passes through my redirection service).</p>


<div class="typocode"><pre><code class="typocode_default">&lt;VirtualHost *:80&gt;
  ServerName www.chrisroos.co.uk
  ServerAlias chrisroos.co.uk
  RewriteEngine On
  RewriteRule (.*) http://localhost:4010$1 [P]
&lt;/VirtualHost&gt;</code></pre></div>

	<p>Feel free to go run this on your own server if you&#8217;re so inclined.  At the moment you&#8217;ll have to generate the redirection rules by hand.  In irb, you can do something like:</p>


<div class="typocode"><pre><code class="typocode_default"># require 'yaml'
# # For www.example.com
# rules = { 'www.example.com' =&gt; 'example.com' }
# File.open('PATH_TO_RULES_FOLDER' + '/www.example.com', 'w') { |file| file.puts(rules.to_yaml) }
# # For example.com
# rules = { '/google' =&gt; 'www.google.com' }
# File.open('PATH_TO_RULES_FOLDER' + '/example.com', 'w') { |file| file.puts(rules.to_yaml) }</code></pre></div>

	<p>Start the redirection server.</p>


<div class="typocode"><pre><code class="typocode_default">$ REDIRECTION_PORT=XXXX ruby mongrel-redir.rb &amp;
$# Leaving out REDIRECTION_PORT will mean that the server starts on port 4000
$# Leaving out the final ampersand (&amp;) will mean that server runs in the foreground</code></pre></div>

	<p>Visit www.example.com/google<sup><a href="#fn1">1</a></sup> and watch<sup><a href="#fn2">2</a></sup> as you&#8217;re redirected first to example.com/google and then onto www.google.com.  Cool huh.</p>


	<p>Lots to do &#8211; notably a user interface for managing rules but it&#8217;s not a bad start.</p>


	<p>Oh, and this is specifically so that you can redirect from your own domain.  If you don&#8217;t care about the domain then you could try <a href="http://tinyurl.com">tinyurl</a> or, for human friendly URLs, <a href="http://decenturl.com">decent url</a>.</p>


	<p>[1] Assuming, of course, that www.example.com and example.com both point to the server that this redirection server is running on.</p>


	<p>[2] You probably won&#8217;t be able to watch as it&#8217;ll redirect too quickly in the browser &#8211; your best bet is to use <a href="http://curl.haxx.se/">curl</a> or the <a href="http://livehttpheaders.mozdev.org/">Live <span class="caps">HTTP</span> Headers</a> <a href="http://www.mozilla.com/en-US/firefox/">firefox</a> extension so see what&#8217;s actually going on.</p>

              
                <h2>
                  <a href="/articles/2007/11/27/short-human-friendly-permalinks">Short, Human Friendly, Permalinks</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Tue, 27 Nov 2007 09:31:00">
                    Tue, 27 Nov 2007 09:31:00
                  </span>
                </p>

                <p>I was recently asked for my Amazon wishlist.  I wasn&#8217;t able to use email and was expected to write down the <span class="caps">URL</span>.  I had a look and found that the <span class="caps">URL</span> (<a href="http://www.amazon.co.uk/gp/registry/IO9HVNCPEWGD">http://www.amazon.co.uk/gp/registry/IO9HVNCPEWGD</a>) wasn&#8217;t paper or speech friendly.  Instead of attempting to convey this <span class="caps">URL</span>, I used the opportunity to create my own human friendly permalink for my wishlist (<a href="http://chrisroos.co.uk/amazonwishlist">chrisroos.co.uk/amazonwishlist</a>).  I actually started with a hyphenated variant (amazon-wishlist) but realised that the non-hyphenated version would be easier for someone to understand in conversation.</p>


	<p>This seems to tie in with what <a href="http://www.scripting.com">Dave Winer</a> has been talking about <a href="http://www.scripting.com/stories/2007/11/20/solvingTheTinyurlCentraliz.html">recently</a>.</p>


	<p>I think this&#8217;d be quite a neat, and fairly easy, little webapp to build.  It would need a simple interface for managing permalinks and the ability to work with multiple domains.  Hmm, I&#8217;m tempted to give this a shot unless anyone knows of anything similar already out there?</p>

              

            </div>
          </div>
        </div>
        <div class="yui-b">
          <!--#include virtual="/includes/_navigation.html"-->
        </div>
      </div>
    </div>
    <div id="ft">
      <!-- Footer -->
    </div>
    
    <!--#include virtual="/includes/_twitter.html" -->
    <!--#include virtual="/includes/_delicious.html" -->
    <!--#include virtual="/includes/_google_analytics.html" -->
  </body>

</html>
