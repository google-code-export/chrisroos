<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

  <head>
    <meta name="microid" content="ff511e16d7108be450fccd6f4611cf8d1d5416d1" >
    <meta http-equiv="content-type" content="text/html; charset=utf-8" >
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/DeferredUntilInspirationHits" >
    <link rel="stylesheet" href="/stylesheets/yui-reset-fonts-grids.css" type="text/css" media="all">
    <link rel="stylesheet" href="/stylesheets/blog.css" type="text/css" media="screen" charset="utf-8">
    <link rel="stylesheet" href="/stylesheets/syntax.css" type="text/css" media="screen" charset="utf-8">
    <link rel="openid.server" href="http://www.myopenid.com/server">
    <link rel="openid.delegate" href="http://chrisroos.myopenid.com/">
    <title>Posts tagged wesabe - deferred until inspiration hits</title>
  </head>
  
  <body>
    
    <div id="doc3" class="yui-t4">
      <div id="hd">
        <h1><a class="blogTitle" href="/">deferred until inspiration hits</a></h1>
      </div>
      <div id="bd">
        <div id="yui-main">
          <div class="yui-b">
            <div class="yui-g">

              
                <h2>
                  <a href="/articles/2007/10/05/trying-to-speak-to-someone-in-development-at-hsbc-can-anyone-help">Trying to speak to someone in development at Hsbc - can anyone help?</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Fri, 05 Oct 2007 08:43:00">
                    Fri, 05 Oct 2007 08:43:00
                  </span>
                </p>

                <p>I&#8217;m almost 100% certain that there&#8217;s a <a href="http://twitter.com/chrisroos/statuses/247143372">bug</a> in the Hsbc Internet Banking site.</p>


	<p>My account is overdrawn yet the balance shows as positive when I download my transactions in either &#8216;Money 98 onwards (ofx)&#8217; or &#8216;Quicken 2002 (ofx)&#8217;.  I believe that section 3.2.9.2 of the <a href="http://www.ofx.net">Ofx</a> 2.1.1 spec explains that these balances should be shown as negative.</p>


	<p>I&#8217;ve tried to <a href="http://www.flickr.com/search/?w=31365693@N00&#38;q=hsbc+AND+ofx&#38;m=tags">email</a> and I&#8217;ve <a href="http://twitter.com/chrisroos/statuses/279942352">tried</a> <a href="http://twitter.com/chrisroos/statuses/279956472">to</a> <a href="http://twitter.com/chrisroos/statuses/313632312">call</a> <a href="http://twitter.com/chrisroos/statuses/313656682">hsbc</a>.  Both to no avail.</p>


	<p>Does anyone know anyone that works at Hsbc and might be able to get a message to someone in development?  If not, what&#8217;s the etiquette on facebook groups?  I notice that there a few hsbc groups &#8211; can I just post messages to them asking for help?</p>


	<p>I&#8217;ve gotten so used to dealing with <a href="http://www.wesabe.com">real</a> companies that I&#8217;d forgotten how the old world works.</p>

                
                  <p>
                    Tags 
                    
                      <a href="/articles/tag/banking" rel="tag">banking</a>, 
                    
                      <a href="/articles/tag/bug" rel="tag">bug</a>, 
                    
                      <a href="/articles/tag/crap" rel="tag">crap</a>, 
                    
                      <a href="/articles/tag/development" rel="tag">development</a>, 
                    
                      <a href="/articles/tag/hsbc" rel="tag">hsbc</a>, 
                    
                      <a href="/articles/tag/internet" rel="tag">internet</a>, 
                    
                      <a href="/articles/tag/ofx" rel="tag">ofx</a>, 
                    
                      <a href="/articles/tag/wesabe" rel="tag">wesabe</a>, 
                    
                  </p>
                
              
                <h2>
                  <a href="/articles/2007/07/12/wesabe-open-up-their-api-and-ask-me-to-help-write-their-press-release">Wesabe open up their API and ask me to help write their press release...</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Thu, 12 Jul 2007 23:49:00">
                    Thu, 12 Jul 2007 23:49:00
                  </span>
                </p>

                <p>Ok, so that second bit isn&#8217;t strictly true ;-)  I was, however, flattered to be contacted by Debbie from <a href="http://www.wesabe.com">Wesabe</a> to answer a few questions and maybe provide a quote for their press release.  They have just improved their service by <a href="http://blog.wesabe.com/index.php/2007/07/12/your-bank-has-a-rest-api-now-shhh-dont-tell-them/">offering</a> an <a href="http://www.wikipedia.org/wiki/API"><span class="caps">API</span></a> after all.</p>


	<p>They asked, and I answered by rambling quite a bit.  In the preview of the press release I&#8217;ve seen, my ramblings have been summarized in three words :-)  Hey, I&#8217;m just honoured they asked.  I also asked if I could post their questions and my reply here, so, in all its glory, here it be.</p>


	<p><strong>Debbie Pfeifer</strong></p>


	<p>Hey, Chris.</p>


	<p>I work with Marc Hedlund at Wesabe.  I know he gave you a heads up that we&#8217;re working on releasing an <span class="caps">API</span>.  We&#8217;re getting close &#8211; we plan to get it out either late this week or early next week &#8211; and I was writing to ask for a favor.</p>


	<p>I&#8217;m putting together a press release announcing the <span class="caps">API</span> and we thought it would be cool to get a quote from a developer who has done some hacks.  If you&#8217;d rather not participate, no worries whatsoever.  If you&#8217;d be willing, following is a quick list of questions:</p>


	<p><strong>Chris Roos</strong></p>


	<p>Cool, I appreciate being considered.</p>


	<p><strong>Debbie Pfeifer</strong></p>


	<p>Why do you use Wesabe?</p>


	<p><strong>Chris Roos</strong></p>


	<p>Because it&#8217;s a great application :-)   No, seriously it&#8217;s because tagging makes sense to me.  It makes sense that, if I buy an apple, I should be able to categorise it as an apple, fruit, lunch, food, groceries and others that I can&#8217;t think of right now.  It&#8217;s a bit looser than traditional finance applications which I find perfect.  I must admit that I don&#8217;t currently use the social side of wesabe, helping others out with tips and advice, but that in no way detracts from the usefulness of the service to me.  I also love the fact that I&#8217;m able to interact with you guys, it means a lot to know that you&#8217;re listening.</p>


	<p><strong>Debbie Pfeifer</strong></p>


	<p>From your blog, I saw the projects you&#8217;ve already done (automating downloads).  Are there other things you&#8217;d like to do with Wesabe once you have the <span class="caps">API</span>?</p>


	<p><strong>Chris Roos</strong></p>


	<p>Hmm, let&#8217;s see.  I&#8217;m a big fan of the command line.  I&#8217;ve already been thinking about tidying up some of the previous work I&#8217;ve done so that it effectively provides a command line interface to my banking websites.  I can see that a command line interface to Wesabe might be quite appealing to me too.  I&#8217;m just wondering about some potential mapping mashups too.  I try to tag my transactions with the place they were purchased. Assuming I tagged every purchase with at least a town or city it&#8217;d be cool to see the distribution geographically.  Actually, I have a feeling I could do this with what&#8217;s available right now so maybe scrap that thought.</p>


	<p><strong>Debbie Pfeifer</strong></p>


	<p>Anything else you&#8217;d like to add?</p>


	<p><strong>Chris Roos</strong></p>


	<p>I originally had this bit under the question of why I like Wesabe, but felt it best here.  To be fair, it probably doesn&#8217;t matter too much. Anyway, I like the fact that Wesabe is developing the software that my greedy, super-rich banks should be developing ;-)   I love the fact that you are, in a small way, changing the world.  Sticking two fingers up at traditional finance applications and banking web apps themselves, because, I assume, you know that you&#8217;re doing it right.</p>


	<p>One other idea I&#8217;ve been thinking about is uploading my mobile phone statements to Wesabe.  I currently have access to a pdf representation of my itemised bill.  I&#8217;m thinking that if I can parse the pdf, or even just copy the content into a text file that I can parse, I could upload and use all the features of Wesabe to analyse my bills.  I think this&#8217;d be great as I&#8217;ve personally never come across a phone company that allows ready, easy access to itemised call data in a useful format.  I guess this is because they don&#8217;t want to make it to easy for us to work out that they&#8217;re screwing us over in some way (cynical huh?).  Anyway, just a thought and I&#8217;m obviously not sure how that&#8217;d sit with you guys&#8230;?</p>


	<p><strong>Debbie Pfeifer</strong></p>


	<p>Again, if you&#8217;d rather not do this, I totally understand.  If you&#8217;re game, could we use your name?  Also, how would you describe yourself&#8230; a (your job) from (city)?</p>


	<p><strong>Chris Roos</strong></p>


	<p>Feel free to use my name.  Although not really one for titles, I guess I&#8217;d be classed as a software developer working in London, but from Ramsgate.</p>


	<p><strong>Debbie Pfeifer</strong></p>


	<p>Thanks, Chris.  Please let me know if you have any questions.</p>


	<p><strong>Chris Roos</strong></p>


	<p>One quick question.  Am I able to publish this email to my blog?  If not, I&#8217;ll probably just published my answers to your questions, which I could paraphrase to offer context.</p>


	<p>Cheers, and hope there&#8217;s at least something useful in these ramblings.</p>


	<p>Chris</p>


	<p><strong>Debbie Pfeifer</strong></p>


	<p>Best,
Debbie Pfeifer
Wesabe</p>


	<p><strong>Update 17:10 &#8211; made the email legible. Thanks Paul.</strong></p>

                
                  <p>
                    Tags 
                    
                      <a href="/articles/tag/api" rel="tag">api</a>, 
                    
                      <a href="/articles/tag/cool" rel="tag">cool</a>, 
                    
                      <a href="/articles/tag/pr" rel="tag">pr</a>, 
                    
                      <a href="/articles/tag/praise" rel="tag">praise</a>, 
                    
                      <a href="/articles/tag/ramble" rel="tag">ramble</a>, 
                    
                      <a href="/articles/tag/wesabe" rel="tag">wesabe</a>, 
                    
                  </p>
                
              
                <h2>
                  <a href="/articles/2007/06/23/automatically-downloading-my-ing-direct-transactions">Automatically downloading my Ing Direct transactions</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Sat, 23 Jun 2007 18:00:00">
                    Sat, 23 Jun 2007 18:00:00
                  </span>
                </p>

                <p>I wanted to <a href="http://blog.seagul.co.uk/articles/2007/06/23/automatically-download-egg-credit-card-transactions">automate</a> the <a href="http://blog.seagul.co.uk/articles/2007/05/14/automatically-downloading-my-recent-transactions-from-lloyds-tsb">download</a> of <a href="http://blog.seagul.co.uk/articles/2007/05/04/automatically-downloading-my-most-recent-hsbc-transactions">transaction</a> data for my <a href="http://www.ingdirect.co.uk">ing direct</a> account.  Instead of just pasting up the finished result, I&#8217;ve tried to capture the process I went through, on the off chance it&#8217;s of interest to anyone&#8230;</p>


	<h3>Earlier</h3>


	<p>Open the <a href="http://www.ingdirect.co.uk">homepage</a></p>


	<p>Click the login link. (goes to https://secure.ingdirect.co.uk/InitialINGDirect.html?command=displayLogin&#38;device=web&#38;locale=en_GB)</p>


	<p><a href="http://www.flickr.com/photos/chrisjroos/601727552/"><img src="http://farm2.static.flickr.com/1358/601727552_238151d7e8_m.jpg" alt="" /></a></p>


	<p>Type our Customer Number and Last Name into the login form.</p>


	<p>Before submitting the form, we open the <a href="http://livehttpheaders.mozdev.org/">Live Http headers</a> <a href="http://www.mozilla.com/en-US/firefox/">firefox</a> extension.</p>


	<p>We see that the following information gets POSTed to InitialINGDirect.html</p>


<div class="typocode"><pre><code class="typocode_default">command=enterCustomerNumber&amp;locale=en_GB&amp;device=web&amp;ACN=&lt;YOUR_CUSTOMER_NUMBER&gt;&amp;LNAME=&lt;YOUR_LAST_NAME&gt;&amp;GO.x=23&amp;GO.y=12</code></pre></div>

	<p>We are redirected to a second security page.</p>


	<p><a href="http://www.flickr.com/photos/chrisjroos/601727868/"><img src="http://farm2.static.flickr.com/1344/601727868_4569c11af6_m.jpg" alt="" /></a></p>


	<p>The first use of <a href="http://curl.haxx.se/">curl</a> is to see whether we can get this far from the command line.</p>


<div class="typocode"><pre><code class="typocode_default">curl -X&quot;POST&quot; -d&quot;command=enterCustomerNumber&quot; -d&quot;locale=en_GB&quot; -d&quot;device=web&quot; -d&quot;ACN=YOUR_CUSTOMER_NUMBER&quot; -d&quot;LNAME=YOUR_LAST_NAME&quot; -d&quot;GO.x=23&quot; -d&quot;GO.y=12&quot; &quot;https://secure.ingdirect.co.uk/InitialINGDirect.html&quot; -o&quot;&lt;FILENAME_FOR_OUTPUT&gt;&quot;</code></pre></div>

	<p>The actual output in this instance is</p>


<div class="typocode"><pre><code class="typocode_default">&lt;SCRIPT&gt;
location.replace(&quot;/INGDirect.html?command=displayValidateCustomer&amp;fill=1&quot;);
&lt;/SCRIPT&gt;</code></pre></div>

	<p>So we amend the curl command to see exactly what&#8217;s going on (the removal of -o and the addition of -v)</p>


	<p>Right, so this is interesting &#8211; I was expecting to see an <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.30"><span class="caps">HTTP</span> Location</a> header directing us to the second security page.  Instead the body of the response is the javascript seen above.  I guess they want to ensure that we have javascript enabled eh.</p>


	<p>Let&#8217;s just see what happens if we request the page returned in the javascript (https://secure.ingdirect.co.uk/INGDirect.html?command=displayValidateCustomer&#38;fill=1)</p>


	<p><a href="http://www.flickr.com/photos/chrisjroos/601442615/"><img src="http://farm2.static.flickr.com/1130/601442615_2ce8dafc21_m.jpg" alt="" /></a></p>


	<p>Ok, so that&#8217;s not unexpected.  How about, if we store the cookies sent to us in the original response, and then request the page returned in the javascript.</p>


<div class="typocode"><pre><code class="typocode_default">curl -X&quot;POST&quot; -c&quot;/Users/chrisroos/Desktop/ing-cookie&quot; -d&quot;command=enterCustomerNumber&quot; -d&quot;locale=en_GB&quot; -d&quot;device=web&quot; -d&quot;ACN=YOUR_CUSTOMER_NUMBER&quot; -d&quot;LNAME=YOUR_LAST_NAME&quot; -d&quot;GO.x=23&quot; -d&quot;GO.y=12&quot; &quot;https://secure.ingdirect.co.uk/InitialINGDirect.html&quot;

curl -b&quot;/Users/chrisroos/Desktop/ing-cookie&quot; &quot;https://secure.ingdirect.co.uk/INGDirect.html?command=displayValidateCustomer&amp;fill=1&quot; -o&quot;/Users/chrisroos/Desktop/ing.html&quot;</code></pre></div>

	<p>Ok, this looks promising.  We can now proceed to the second security page.</p>


	<p>Let&#8217;s use firefox to log in and get to the second security page again.  Fill in the details as requested, open live http headers and get hold of the data we are sending.  Right, so we <span class="caps">POST</span> the following details to InitialINGDirect.html</p>


<div class="typocode"><pre><code class="typocode_default">command=validateCustomer&amp;locale=en_GB&amp;device=web&amp;PIN_A=5&amp;PIN_B=1&amp;PIN_C=4&amp;DAYS=65&amp;MONTHS=65&amp;YEARS=66&amp;GO.x=41&amp;GO.y=9</code></pre></div>

	<p>Ah, so this looks interesting.  It seems that each key on the keypad is assigned a number (potentially different to the number displayed on the key).  It is that number that gets sent.  The numbers on the keypad appear in a random order, so I wonder if the same number is always assigned to the same key, or whether something else is required to tell the server the order of the keys.  Let&#8217;s log in one more time and see if the results differ.  The assumption being that if they do then the server must know what order the keys have been displayed in.</p>


	<p>Bugger &#8211; now it won&#8217;t let me log in anymore (too many failed attempts) and I have to call the call centre.  Ooops.</p>


	<h3>Later</h3>


	<p>Right, so it&#8217;s now about 5 weeks after starting this investigation.  I&#8217;m going to attempt to pick up where I left off and see if we can&#8217;t get it finished.  Previously, before I got locked out of my account, I was going to test whether each digit on the keypad got assigned a different number each time.  In order to test, I logged into my account twice.  Each time, I saved the content of the page containing the keypad, and the output from Live Http Headers.  A quick examination of the differences between the output seems to suggest that we only ever send the position of a number on the keypad.  A made-up example might help to make this clear, starting with a keypad in no particular order.</p>


<pre>
5 1 2
4 7 3
0 8 9
  6
</pre>

	<p>If our pin number is 1234 and we are asked for the first digit then, although we would push the button labeled 1 on the keypad, we would actually send the value 2 to the server.  The buttons (but not the values they represent) all have a constant position, where the top-left button is position 1, the bottom-right is position 9 and the bottom button is position 0 (same layout as phone keypads).  For the above example, the button labeled 1 is in position 2, hence us sending a 2 to the server.</p>


	<p>Right, so unless I&#8217;m missing something, the server must &#8216;know&#8217; which three digits we&#8217;re being asked for, along with the order of the keypad.  If we&#8217;re to log in automatically then we&#8217;re going to need to parse the text that asks us for certain digits and determine the order of the keypad.  A little experimentation with <a href="http://code.whytheluckystiff.net/hpricot/">hpricot</a> yielded the following code.</p>


<div class="typocode"><pre><code class="typocode_ruby"><span class="ident">require</span> <span class="punct">'</span><span class="string">rubygems</span><span class="punct">'</span>
<span class="ident">require</span> <span class="punct">'</span><span class="string">hpricot</span><span class="punct">'</span>

<span class="ident">html</span> <span class="punct">=</span> <span class="constant">File</span><span class="punct">.</span><span class="ident">open</span><span class="punct">('</span><span class="string">/Users/chrisroos/Desktop/ingdirect-b1.html</span><span class="punct">')</span> <span class="punct">{</span> <span class="punct">|</span><span class="ident">f</span><span class="punct">|</span> <span class="ident">f</span><span class="punct">.</span><span class="ident">read</span> <span class="punct">}</span>

<span class="comment"># The request for our PIN digits appears within the following text</span>
<span class="comment"># &lt;b&gt;Using the Key Pad, please enter the 3rd, 5th and 2nd digits from your PIN&lt;/b&gt;</span>
<span class="ident">pin_a</span><span class="punct">,</span> <span class="ident">pin_b</span><span class="punct">,</span> <span class="ident">pin_c</span> <span class="punct">=</span> <span class="ident">html</span><span class="punct">.</span><span class="ident">scan</span><span class="punct">(/</span><span class="regex">Using the Key Pad, please enter the (<span class="escape">\d</span>).+?(<span class="escape">\d</span>).+?(<span class="escape">\d</span>).*?&lt;<span class="escape">\/</span>b&gt;</span><span class="punct">/).</span><span class="ident">flatten</span>

<span class="comment"># Ok, now let's find the order of the keypad (hey, it's in a div with id pin-pad - cool)</span>
<span class="comment"># This has turned out quite trivial.  The keypad is rendered within an html table, where each cell contains a button (input)</span>
<span class="comment"># that has a value of the number displayed on the button.  Hpricot makes it very easy to say 'get me all buttons (input)</span>
<span class="comment"># that appear in cells within the table that is in the div with an id of pin-pad'.  As hpricot will parse the html table</span>
<span class="comment"># 'in order', i.e. from top-left to bottom right, we just have to append each button value into an array, preserving the</span>
<span class="comment"># order of the keypad.</span>
<span class="ident">doc</span> <span class="punct">=</span> <span class="constant">Hpricot</span><span class="punct">(</span><span class="ident">html</span><span class="punct">)</span>
<span class="ident">keypad</span> <span class="punct">=</span> <span class="punct">(</span><span class="ident">doc</span><span class="punct">/'</span><span class="string">div#pin-pad/table/tr/td/input</span><span class="punct">').</span><span class="ident">inject</span><span class="punct">([])</span> <span class="punct">{</span> <span class="punct">|</span><span class="ident">array</span><span class="punct">,</span> <span class="ident">btn</span><span class="punct">|</span> <span class="ident">array</span> <span class="punct">&lt;&lt;</span> <span class="ident">btn</span><span class="punct">.</span><span class="ident">attributes</span><span class="punct">['</span><span class="string">value</span><span class="punct">'].</span><span class="ident">to_i</span><span class="punct">;</span> <span class="ident">array</span> <span class="punct">}</span>
<span class="comment"># The last value read from the html keypad table will appear at index 9 (our array is 0 based), where we actually want it to </span>
<span class="comment"># appear at index 0 (keypad is in phone keypad order, i.e. 0 at bottom).  Luckily, we can just pop it off the end and</span>
<span class="comment"># prepend it to the array</span>
<span class="ident">keypad</span><span class="punct">.</span><span class="ident">unshift</span><span class="punct">(</span><span class="ident">keypad</span><span class="punct">.</span><span class="ident">pop</span><span class="punct">)</span>
<span class="comment"># So, we can now convert a keypad like this</span>
<span class="comment"># 5 1 2</span>
<span class="comment"># 4 7 3</span>
<span class="comment"># 0 8 9</span>
<span class="comment">#   6</span>
<span class="comment"># into the equivalent ruby array [6, 5, 1, 2, 4, 7, 3, 0, 8, 9]</span>
<span class="comment"># We can then use Array#index to dive in grab the keypad position of a number</span>
<span class="comment"># keypad.index(5) #=&gt; 1</span>
<span class="comment"># keypad.index(7) #=&gt; 5</span></code></pre></div>

	<p>Cool, so we should be able to string together what we have and automatically login to our account, we need to dip into ruby so that we might parse the keypad page using our code above.</p>


	<p>Right, I&#8217;ve cobbled the code together but instead of seeing an account overview page, I&#8217;m actually receiving a page with more javascript relocation magic.</p>


<div class="typocode"><pre><code class="typocode_default">&lt;SCRIPT&gt;
location.replace(&quot;/InitialINGDirect.html?command=displayLoggedOutError&amp;locale=en_GB&amp;device=web&quot;);
&lt;/SCRIPT&gt;</code></pre></div>

	<p>I&#8217;m wondering if I&#8217;m missing some cookies &#8211; maybe some more cookies get added to the jar on the keypad page.  Using the <a href="https://addons.mozilla.org/en-US/firefox/addon/60">web developer extension</a> this is trivial to check.  Two cookies are set when we first visit the login page&#8230;  Hmm, and there are still two when we get to the keypad page.  So something else is different.  Ok, so I found it.  Somehow, I&#8217;d managed to miss out some data that was required for the login to work correctly.  I was not sending the command=validateCustomer key/pair even though I&#8217;d already pasted it once above.  Oh well.  With this &#8216;command&#8217; added, we still get a page with some javascript relocation but this time we get relocated to the account summary..</p>


<div class="typocode"><pre><code class="typocode_default">&lt;SCRIPT&gt;
location.replace(&quot;/INGDirect.html?command=accountSummary&amp;locale=en_GB&amp;device=web&amp;method=fetchClientAccountSummary&quot;);
&lt;/SCRIPT&gt;</code></pre></div>

	<p>If we finally <span class="caps">GET</span> this page then we should be able to &#8216;see&#8217; our account overview on the command line.  Of course it wasn&#8217;t that simple.  This just yields another javascript redirect.</p>


<div class="typocode"><pre><code class="typocode_default">&lt;SCRIPT&gt;
location.replace(&quot;/INGDirect.html?command=displayClientAccountSummary&amp;fill=1&quot;);
&lt;/SCRIPT&gt;</code></pre></div>

	<p>Let&#8217;s try to <span class="caps">GET</span> this page then.  Woohoo, we&#8217;re finally at the account overview page.  Wow that was hard work, so, so much harder than it should be for a web application.</p>


	<p>The final step is to <span class="caps">GET</span> and save the transaction page.  The url to the account page in the browser is:</p>


	<p>https://secure.ingdirect.co.uk/INGDirect.html?command=accountSummary&#38;method=fetchClientAccountSummary&#38;account=0&#38;stepName=saving</p>


	<p>GETting that url on the command line yields yet another javascript redirect (really, you do surprise me).</p>


<div class="typocode"><pre><code class="typocode_default">&lt;SCRIPT&gt;
location.replace(&quot;/INGDirect.html?command=displayAccountDetails&quot;);
&lt;/SCRIPT&gt;</code></pre></div>

	<p>Fine, let&#8217;s <span class="caps">GET</span> that url then (starting to get bored now).  And, wait for it&#8230;  Yeah, we have downloaded transactions.  Phew.  Right then, just a little code tidying and I&#8217;ll get it uploaded to google code and this article can be posted.  Yay.</p>


	<p>Ok, so we&#8217;re uploaded to <a href="http://chrisroos.googlecode.com/svn/trunk/ing-direct">google code</a>.  Now to set this little fella free&#8230;  An we&#8217;re done.</p>

                
                  <p>
                    Tags 
                    
                      <a href="/articles/tag/curl" rel="tag">curl</a>, 
                    
                      <a href="/articles/tag/direct" rel="tag">direct</a>, 
                    
                      <a href="/articles/tag/finance" rel="tag">finance</a>, 
                    
                      <a href="/articles/tag/ing" rel="tag">ing</a>, 
                    
                      <a href="/articles/tag/ing-direct" rel="tag">ing-direct</a>, 
                    
                      <a href="/articles/tag/ofx" rel="tag">ofx</a>, 
                    
                      <a href="/articles/tag/ruby" rel="tag">ruby</a>, 
                    
                      <a href="/articles/tag/transaction" rel="tag">transaction</a>, 
                    
                      <a href="/articles/tag/wesabe" rel="tag">wesabe</a>, 
                    
                  </p>
                
              
                <h2>
                  <a href="/articles/2007/06/23/automatically-download-egg-credit-card-transactions">Automatically download egg credit card transactions</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Sat, 23 Jun 2007 12:34:00">
                    Sat, 23 Jun 2007 12:34:00
                  </span>
                </p>

                <p>I&#8217;ve followed in my <a href="http://blog.seagul.co.uk/articles/2007/05/14/automatically-downloading-my-recent-transactions-from-lloyds-tsb">previous</a> <a href="http://blog.seagul.co.uk/articles/2007/05/04/automatically-downloading-my-most-recent-hsbc-transactions">footsteps</a> and automated the download of my <a href="http://egg.com">egg</a> credit card transactions and statements.  Using this in combination with my <a href="http://blog.seagul.co.uk/articles/2007/04/01/converting-egg-credit-card-statements-to-ofx-for-upload-to-wesabe">ofx convertor</a> makes it easier for me to upload my financial data to <a href="http://www.wesabe.com">wesabe</a>.</p>


	<p>As always, the code is in <a href="http://chrisroos.googlecode.com/svn/trunk/egg/">google code</a> and pasted below for your viewing pleasure&#8230;</p>


<div class="typocode"><pre><code class="typocode_ruby"><span class="ident">require</span> <span class="punct">'</span><span class="string">egg-credentials</span><span class="punct">'</span>

<span class="keyword">def </span><span class="method">execute_curl</span><span class="punct">(</span><span class="ident">cmd</span><span class="punct">)</span>
  `<span class="comment">#{cmd}`</span>
<span class="keyword">end</span>

<span class="constant">COOKIE_LOCATION</span> <span class="punct">=</span> <span class="punct">&quot;</span><span class="string">/tmp/egg.cookie</span><span class="punct">&quot;</span>
<span class="constant">STATEMENT_DATE</span> <span class="punct">=</span> <span class="punct">'</span><span class="string">18 January 2007</span><span class="punct">'</span>

<span class="constant">RECENT_TRANSACTIONS_FILE</span> <span class="punct">=</span> <span class="punct">'</span><span class="string">/Users/chrisroos/Desktop/egg-recent-transactions.html</span><span class="punct">'</span>
<span class="constant">STATEMENT_FILE</span> <span class="punct">=</span> <span class="punct">'</span><span class="string">/Users/chrisroos/Desktop/egg-statement.html</span><span class="punct">'</span>

<span class="comment"># Logging in requires a cookie that is set when we first visit the login page</span>
<span class="ident">curl_cmd</span> <span class="punct">=</span> <span class="punct">%[</span><span class="string">curl -s -c&quot;<span class="expr">#{COOKIE_LOCATION}</span>&quot; &quot;https://new.egg.com/security/customer/logon?URI=https://new.egg.com/customer/youraccounts&quot;</span><span class="punct">]</span>
<span class="ident">execute_curl</span> <span class="ident">curl_cmd</span>

<span class="comment"># POST our login credentials</span>
<span class="ident">curl_cmd</span> <span class="punct">=</span> <span class="punct">%[</span><span class="string">curl -s -b&quot;<span class="expr">#{COOKIE_LOCATION}</span>&quot; -c&quot;<span class="expr">#{COOKIE_LOCATION}</span>&quot; -L &quot;https://logon.egg.com/LoginWebServer/services/CustomerLogin&quot; -d&quot;firstName=<span class="expr">#{FIRST_NAME}</span>&quot; -d&quot;lastName=<span class="expr">#{LAST_NAME}</span>&quot; -d&quot;dobDay=<span class="expr">#{DOB_DAY}</span>&quot; -d&quot;dobMonth=<span class="expr">#{DOB_MONTH}</span>&quot; -d&quot;dobYear=<span class="expr">#{DOB_YEAR}</span>&quot; -d&quot;postcode=<span class="expr">#{POSTCODE}</span>&quot; -d&quot;mmn=<span class="expr">#{MOTHERS_MAIDEN_NAME}</span>&quot; -d&quot;password=<span class="expr">#{PASSWORD}</span>&quot; -d&quot;HiddenURI=https%3A%2F%2Fnew.egg.com%2Fcustomer%2Fyouraccounts&quot;</span><span class="punct">]</span>
<span class="ident">execute_curl</span> <span class="ident">curl_cmd</span>

<span class="comment"># List and save recent transactions</span>
<span class="ident">curl_cmd</span> <span class="punct">=</span> <span class="punct">%[</span><span class="string">curl -s -o&quot;<span class="expr">#{RECENT_TRANSACTIONS_FILE}</span>&quot; -b&quot;<span class="expr">#{COOKIE_LOCATION}</span>&quot; &quot;https://your.egg.com/customer/eggcard/recenttransactions.aspx&quot;</span><span class="punct">]</span>
<span class="ident">execute_curl</span> <span class="ident">curl_cmd</span>

<span class="comment"># There is no sensible way to get your statements.  I'd hope for something like /statements/18-jun-2007.html but no such luck</span>
<span class="comment"># Instead, there is a zero indexed array of statement dates.  Selecting one of these statement dates allows us to construct</span>
<span class="comment"># a uri using the index of the date in the list.  So, if 18 June 2007 is the first date in the list (i.e. index 0) then we can view that</span>
<span class="comment"># statement at https://your.egg.com/customer/eggcard/statements.aspx?index=0</span>
<span class="comment"># Interestingly, this is how it works from the recent transactions page, from any actual statement page, it appears that this is</span>
<span class="comment"># too hard (it's not) and instead the developers have resorted to using some magical .net/javascript voodoo to obtain a different</span>
<span class="comment"># statement.</span>
<span class="ident">require</span> <span class="punct">'</span><span class="string">rubygems</span><span class="punct">'</span>
<span class="ident">require</span> <span class="punct">'</span><span class="string">hpricot</span><span class="punct">'</span>

<span class="ident">recent_transactions</span> <span class="punct">=</span> <span class="constant">File</span><span class="punct">.</span><span class="ident">open</span><span class="punct">(</span><span class="constant">RECENT_TRANSACTIONS_FILE</span><span class="punct">)</span> <span class="punct">{</span> <span class="punct">|</span><span class="ident">f</span><span class="punct">|</span> <span class="ident">f</span><span class="punct">.</span><span class="ident">read</span> <span class="punct">}</span>
<span class="ident">doc</span> <span class="punct">=</span> <span class="constant">Hpricot</span><span class="punct">(</span><span class="ident">recent_transactions</span><span class="punct">)</span>
<span class="ident">statement_dates</span> <span class="punct">=</span> <span class="punct">[]</span>
<span class="punct">(</span><span class="ident">doc</span><span class="punct">/'</span><span class="string">select#ctl01_content_recenttransactions_lstPreviousStatements/option</span><span class="punct">').</span><span class="ident">each</span> <span class="punct">{</span> <span class="punct">|</span><span class="ident">e</span><span class="punct">|</span> <span class="ident">statement_dates</span> <span class="punct">&lt;&lt;</span> <span class="ident">e</span><span class="punct">.</span><span class="ident">inner_text</span> <span class="punct">}</span>
<span class="ident">statement_index</span> <span class="punct">=</span> <span class="ident">statement_dates</span><span class="punct">.</span><span class="ident">index</span><span class="punct">(</span><span class="constant">STATEMENT_DATE</span><span class="punct">)</span>

<span class="ident">curl_cmd</span> <span class="punct">=</span> <span class="punct">%[</span><span class="string">curl -s -o&quot;<span class="expr">#{STATEMENT_FILE}</span>&quot; -b&quot;<span class="expr">#{COOKIE_LOCATION}</span>&quot; &quot;https://your.egg.com/customer/eggcard/statements.aspx?index=<span class="expr">#{statement_index}</span>&quot;</span><span class="punct">]</span>
<span class="ident">execute_curl</span> <span class="ident">curl_cmd</span>

</code></pre></div>

                
                  <p>
                    Tags 
                    
                      <a href="/articles/tag/curl" rel="tag">curl</a>, 
                    
                      <a href="/articles/tag/egg" rel="tag">egg</a>, 
                    
                      <a href="/articles/tag/finance" rel="tag">finance</a>, 
                    
                      <a href="/articles/tag/ofx" rel="tag">ofx</a>, 
                    
                      <a href="/articles/tag/ruby" rel="tag">ruby</a>, 
                    
                      <a href="/articles/tag/wesabe" rel="tag">wesabe</a>, 
                    
                  </p>
                
              
                <h2>
                  <a href="/articles/2007/05/14/automatically-downloading-my-recent-transactions-from-lloyds-tsb">Automatically downloading my recent transactions from Lloyds Tsb</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Mon, 14 May 2007 22:39:00">
                    Mon, 14 May 2007 22:39:00
                  </span>
                </p>

                <p>In my continuing quest to cut down my use of banking websites (and increase my use of <a href="http://www.wesabe.com">wesabe</a>), I&#8217;ve hacked together a script to download my recent transactions from <a href="http://www.lloydstsb.com">Lloyds Tsb</a>.  Sadly, the transactions are in <a href="http://en.wikipedia.org/wiki/QIF"><span class="caps">QIF</span></a> format, as only <span class="caps">QIF</span> and <a href="http://en.wikipedia.org/wiki/Comma-separated_values"><span class="caps">CSV</span></a> formats are offered.  Maybe I&#8217;ll get round to exporting the data in <a href="http://www.ofx.net"><span class="caps">OFX</span></a> format sometime in the future.</p>


	<p>Code is hosted on <a href="http://chrisroos.googlecode.com/svn/trunk/lloydstsb/">google code</a>, and pasted in all its syntax-highlighted glory below.</p>


<div class="typocode"><pre><code class="typocode_ruby"><span class="ident">require</span> <span class="punct">'</span><span class="string">lloydstsb_credentials</span><span class="punct">'</span>

<span class="ident">require</span> <span class="punct">'</span><span class="string">rubygems</span><span class="punct">'</span>
<span class="ident">require</span> <span class="punct">'</span><span class="string">hpricot</span><span class="punct">'</span>

<span class="keyword">def </span><span class="method">execute_curl</span><span class="punct">(</span><span class="ident">cmd</span><span class="punct">)</span>
  `<span class="comment">#{cmd}`</span>
<span class="keyword">end</span>

<span class="constant">COOKIE_LOCATION</span> <span class="punct">=</span> <span class="punct">'</span><span class="string">/Users/chrisroos/lloydstsb_cookie</span><span class="punct">'</span>
<span class="constant">DOWNLOADED_STATEMENT_LOCATION</span> <span class="punct">=</span> <span class="punct">'</span><span class="string">/Users/chrisroos/Desktop/lloyds.qif</span><span class="punct">'</span>

<span class="comment"># Store some cookies for later</span>
<span class="ident">curl_cmd</span> <span class="punct">=</span> <span class="punct">%[</span><span class="string">curl -s -c&quot;<span class="expr">#{COOKIE_LOCATION}</span>&quot; &quot;https://online.lloydstsb.co.uk/customer.ibc&quot;</span><span class="punct">]</span>
<span class="ident">html</span> <span class="punct">=</span> <span class="ident">execute_curl</span><span class="punct">(</span><span class="ident">curl_cmd</span><span class="punct">)</span>

<span class="comment"># Obtain the key that we need to POST along with our Username and Password</span>
<span class="ident">doc</span> <span class="punct">=</span> <span class="constant">Hpricot</span><span class="punct">(</span><span class="ident">html</span><span class="punct">)</span>
<span class="ident">key</span> <span class="punct">=</span> <span class="punct">(</span><span class="ident">doc</span><span class="punct">/'</span><span class="string">input[@name=Key]</span><span class="punct">').</span><span class="ident">first</span><span class="punct">.</span><span class="ident">attributes</span><span class="punct">['</span><span class="string">value</span><span class="punct">']</span>

<span class="comment"># POST the key, userid and password</span>
<span class="ident">curl_cmd</span> <span class="punct">=</span> <span class="punct">%[</span><span class="string">curl -s -b&quot;<span class="expr">#{COOKIE_LOCATION}</span>&quot; &quot;https://online.lloydstsb.co.uk/logon.ibc&quot; -d&quot;Java=Off&quot; -d&quot;Key=<span class="expr">#{key}</span>&quot; -d&quot;UserId1=<span class="expr">#{USERID}</span>&quot; -d&quot;Password=<span class="expr">#{PASSWORD}</span>&quot;</span><span class="punct">]</span>
<span class="ident">html</span> <span class="punct">=</span> <span class="ident">execute_curl</span><span class="punct">(</span><span class="ident">curl_cmd</span><span class="punct">)</span>

<span class="comment"># Obtain the three characters from our memorable info that we need to POST</span>
<span class="ident">doc</span> <span class="punct">=</span> <span class="constant">Hpricot</span><span class="punct">(</span><span class="ident">html</span><span class="punct">)</span>
<span class="ident">position_of_char1</span> <span class="punct">=</span> <span class="constant">Integer</span><span class="punct">((</span><span class="ident">doc</span><span class="punct">/'</span><span class="string">input[@name=ResponseKey0]</span><span class="punct">').</span><span class="ident">first</span><span class="punct">.</span><span class="ident">attributes</span><span class="punct">['</span><span class="string">value</span><span class="punct">'])</span>
<span class="ident">position_of_char2</span> <span class="punct">=</span> <span class="constant">Integer</span><span class="punct">((</span><span class="ident">doc</span><span class="punct">/'</span><span class="string">input[@name=ResponseKey1]</span><span class="punct">').</span><span class="ident">first</span><span class="punct">.</span><span class="ident">attributes</span><span class="punct">['</span><span class="string">value</span><span class="punct">'])</span>
<span class="ident">position_of_char3</span> <span class="punct">=</span> <span class="constant">Integer</span><span class="punct">((</span><span class="ident">doc</span><span class="punct">/'</span><span class="string">input[@name=ResponseKey2]</span><span class="punct">').</span><span class="ident">first</span><span class="punct">.</span><span class="ident">attributes</span><span class="punct">['</span><span class="string">value</span><span class="punct">'])</span>
<span class="ident">char1</span> <span class="punct">=</span> <span class="constant">MEMORABLE</span><span class="punct">.</span><span class="ident">split</span><span class="punct">('</span><span class="string"></span><span class="punct">')[</span><span class="ident">position_of_char1</span> <span class="punct">-</span> <span class="number">1</span><span class="punct">]</span>
<span class="ident">char2</span> <span class="punct">=</span> <span class="constant">MEMORABLE</span><span class="punct">.</span><span class="ident">split</span><span class="punct">('</span><span class="string"></span><span class="punct">')[</span><span class="ident">position_of_char2</span> <span class="punct">-</span> <span class="number">1</span><span class="punct">]</span>
<span class="ident">char3</span> <span class="punct">=</span> <span class="constant">MEMORABLE</span><span class="punct">.</span><span class="ident">split</span><span class="punct">('</span><span class="string"></span><span class="punct">')[</span><span class="ident">position_of_char3</span> <span class="punct">-</span> <span class="number">1</span><span class="punct">]</span>

<span class="comment"># POST our memorable info</span>
<span class="ident">curl_cmd</span> <span class="punct">=</span> <span class="punct">%[</span><span class="string">curl -s -L -b&quot;<span class="expr">#{COOKIE_LOCATION}</span>&quot; &quot;https://online.lloydstsb.co.uk/miheld.ibc&quot; -d&quot;ResponseKey0=<span class="expr">#{position_of_char1}</span>&quot; -d&quot;ResponseValue0=<span class="expr">#{char1}</span>&quot; -d&quot;ResponseKey1=<span class="expr">#{position_of_char2}</span>&quot; -d&quot;ResponseValue1=<span class="expr">#{char2}</span>&quot; -d&quot;ResponseKey2=<span class="expr">#{position_of_char3}</span>&quot; -d&quot;ResponseValue2=<span class="expr">#{char3}</span>&quot;</span><span class="punct">]</span>
<span class="ident">execute_curl</span> <span class="ident">curl_cmd</span>

<span class="comment"># SELECT OUR ACCOUNT</span>
<span class="ident">curl_cmd</span> <span class="punct">=</span> <span class="punct">%[</span><span class="string">curl -s -b&quot;<span class="expr">#{COOKIE_LOCATION}</span>&quot; &quot;https://online.lloydstsb.co.uk/account.ibc?Account=<span class="expr">#{SORT_CODE_AND_ACCOUNT_NUMBER}</span>&quot;</span><span class="punct">]</span>
<span class="ident">execute_curl</span> <span class="ident">curl_cmd</span>

<span class="comment"># GET OUR MOST RECENT TRANSACTIONS</span>
<span class="ident">curl_cmd</span> <span class="punct">=</span> <span class="punct">%[</span><span class="string">curl -s -b&quot;<span class="expr">#{COOKIE_LOCATION}</span>&quot; &quot;https://online.lloydstsb.co.uk/statement.ibc?Account=<span class="expr">#{SORT_CODE_AND_ACCOUNT_NUMBER}</span>&amp;PageRequired=MostRecent&quot;</span><span class="punct">]</span>
<span class="ident">execute_curl</span> <span class="ident">curl_cmd</span>

<span class="comment"># GET THE DOWNLOAD STATEMENT FORM</span>
<span class="ident">curl_cmd</span> <span class="punct">=</span> <span class="punct">%[</span><span class="string">curl -s -b&quot;<span class="expr">#{COOKIE_LOCATION}</span>&quot; &quot;https://online.lloydstsb.co.uk/statement.ibc?Account=<span class="expr">#{SORT_CODE_AND_ACCOUNT_NUMBER}</span>&amp;selectbox=6&quot;</span><span class="punct">]</span>
<span class="ident">execute_curl</span> <span class="ident">curl_cmd</span>

<span class="comment"># DOWNLOAD THE MOST RECENT TRANSACTIONS IN QIF FORMAT</span>
<span class="ident">curl_cmd</span> <span class="punct">=</span> <span class="punct">%[</span><span class="string">curl -s -L -b&quot;<span class="expr">#{COOKIE_LOCATION}</span>&quot; &quot;https://online.lloydstsb.co.uk/statementdownload.ibc?Account=<span class="expr">#{SORT_CODE_AND_ACCOUNT_NUMBER}</span>&amp;Download=DownloadLatest&amp;Format=104&quot; -o&quot;<span class="expr">#{DOWNLOADED_STATEMENT_LOCATION}</span>&quot;</span><span class="punct">]</span>
<span class="ident">execute_curl</span> <span class="ident">curl_cmd</span>

<span class="comment"># Remove the cookie</span>
`<span class="ident">rm</span> <span class="comment">#{COOKIE_LOCATION}`</span></code></pre></div>

                
                  <p>
                    Tags 
                    
                      <a href="/articles/tag/banking" rel="tag">banking</a>, 
                    
                      <a href="/articles/tag/lloyds" rel="tag">lloyds</a>, 
                    
                      <a href="/articles/tag/lloyds-tsb" rel="tag">lloyds-tsb</a>, 
                    
                      <a href="/articles/tag/qif" rel="tag">qif</a>, 
                    
                      <a href="/articles/tag/tsb" rel="tag">tsb</a>, 
                    
                      <a href="/articles/tag/wesabe" rel="tag">wesabe</a>, 
                    
                  </p>
                
              
                <h2>
                  <a href="/articles/2007/05/04/automatically-downloading-my-most-recent-hsbc-transactions">Automatically downloading my most recent Hsbc transactions</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Fri, 04 May 2007 12:53:00">
                    Fri, 04 May 2007 12:53:00
                  </span>
                </p>

                <p>I&#8217;ve updated my <a href="http://blog.seagul.co.uk/articles/2006/12/24/curl-is-fast-becoming-my-favourite-toy">previous</a> curl/ruby script to automatically download my most recent transactions from Hsbc.  I created the original script as I had a couple of hours spare and wanted to see if I could do it.  The update has been driven by my continued use of <a href="http://www.wesabe.com">wesabe</a>.  Not only does it make my life a bit easier (which is, after all, the point of software) but the wesabe guys have suggested that they may be able to roll it into their client.  Cool.</p>


	<p>As an aside.  It really, really, really shouldn&#8217;t be as hard as it is to automatically get a downloaded list of my transactions.  At least Hsbc offer transactions in <a href="http://www.ofx.net">ofx</a> format, unlike <a href="http://blog.seagul.co.uk/articles/2007/04/01/converting-egg-credit-card-statements-to-ofx-for-upload-to-wesabe">egg</a> and <a href="http://chrisroos.googlecode.com/svn/trunk/egg-ofx/ing_direct">ing direct</a>.  Come on, The Banks, sort it out eh.</p>

                
                  <p>
                    Tags 
                    
                      <a href="/articles/tag/curl" rel="tag">curl</a>, 
                    
                      <a href="/articles/tag/egg" rel="tag">egg</a>, 
                    
                      <a href="/articles/tag/hsbc" rel="tag">hsbc</a>, 
                    
                      <a href="/articles/tag/ingdirect" rel="tag">ingdirect</a>, 
                    
                      <a href="/articles/tag/ofx" rel="tag">ofx</a>, 
                    
                      <a href="/articles/tag/ruby" rel="tag">ruby</a>, 
                    
                      <a href="/articles/tag/wesabe" rel="tag">wesabe</a>, 
                    
                  </p>
                
              
                <h2>
                  <a href="/articles/2007/04/01/converting-egg-credit-card-statements-to-ofx-for-upload-to-wesabe">Converting Egg Credit Card Statements to Ofx (for upload to wesabe)</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Sun, 01 Apr 2007 13:48:00">
                    Sun, 01 Apr 2007 13:48:00
                  </span>
                </p>

                <p>I&#8217;ve cobbled together some pretty nasty code to convert an <a href="http://www.egg.com">Egg</a> Credit Card statement to <a href="http://www.ofx.net">Ofx</a>.</p>


	<p>Grab the <a href="http://chrisroos.googlecode.com/svn/trunk/egg-ofx/">source</a> from <a href="http://code.google.com">google code</a>.</p>


<div class="typocode"><pre><code class="typocode_default">svn checkout http://chrisroos.googlecode.com/svn/trunk/egg-ofx</code></pre></div>

	<p>As well as requiring <a href="http://code.whytheluckystiff.net/hpricot/">hpricot</a>, you will need to edit the StatementsFolder and OfxOutputFolder variables in egg.rb.  These need to point to a directory containing html statements, and an empty output directory respectively.</p>


	<p>I&#8217;ve used the script to upload my last 12 statements to <a href="http://www.wesabe.com">wesabe</a> and everything seems to work Ok. If you have any questions, just post a comment here.</p>

                
                  <p>
                    Tags 
                    
                      <a href="/articles/tag/egg.com" rel="tag">egg.com</a>, 
                    
                      <a href="/articles/tag/finance" rel="tag">finance</a>, 
                    
                      <a href="/articles/tag/ofx" rel="tag">ofx</a>, 
                    
                      <a href="/articles/tag/wesabe" rel="tag">wesabe</a>, 
                    
                  </p>
                
              
                <h2>
                  <a href="/articles/2006/11/28/amazing-non-customer-service">Amazing non-customer service</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Tue, 28 Nov 2006 23:55:00">
                    Tue, 28 Nov 2006 23:55:00
                  </span>
                </p>

                <p>I heard (well, read) about <a href="http://www.wesabe.com">wesabe</a> this morning and thought I&#8217;d sign-up to find out what it was all about.  During the sign-up process I was asked for <em>two</em> security questions and answers &#8211; to be used in the event of me forgetting my password.  Although I was unable<sup><a href="#fn1">1</a></sup> to sign-up and use the service, I still got an amazing &#8216;non-customer experience&#8217;.  I was curious as to why they wanted me to answer two security questions in order to sign-up, and emailed them to that affect.</p>


	<blockquote>
		<p>I was about to signup to wesabe but I&#8217;ve been rejected by not entering my security questions.  I&#8217;m genuinely interested in your decision to require two security questions as well as an email address.  I get the impression that the current trend is to ask for an email address and provide a &#8216;reset password&#8217; type link that mails out a new password &#8211; maybe you are more aware of this due to the type of data being stored?</p>
	</blockquote>


	<p>That was sent at 08:14.  This reply was received at 08:19.</p>


	<blockquote>
		<p>Yes, your guess is spot on.  During our preview/beta period, one of the most common requests we had was for password resets.  It was easy enough to verify the source of those requests when we knew all of our users, but as the preview group grew, we weren&#8217;t able to confirm that we were actually resetting a password for the right person.  When we talked it over, we decided to use the model set by PayPal, since that seemed like the closest analog to our service in web applications.  Using a combination of security questions and access to a set email address provides two levels of authentication, and that&#8217;s what we wanted.</p>
	</blockquote>


	<blockquote>
		<p>I really want signup to be easier and faster, and yet still have people be able to get back to their data &#8211; and only their data &#8211; whenever they want.  I&#8217;m not happy with the length of the signup form, but it seems better than other options I&#8217;ve found so far.</p>
	</blockquote>


	<blockquote>
		<p>If you have suggestions or comments on this, I&#8217;d be very interested.</p>
	</blockquote>


	<p>Whoah.  That&#8217;s pretty cool.  Right!?  I&#8217;ve actually had a very similar experience with <a href="http://www.claimid.com">claimid</a>.  I asked them to <a href="http://blog.claimid.com/2006/05/tips-and-tricks-your-name-in-the-url/">change my username</a> and the response confirming their action was through within ten minutes.</p>


	<p>In a &#8220;we wanna be that cool too&#8221; stylee, I&#8217;m opening myself up to spam galore<sup><a href="#fn2">2</a></sup> by offering my email address for your delectation:</p>


	<p><a href="mailto:chrisroos@reevoo.com">chrisroos@reevoo.com</a></p>


	<p>Feel free to email me, why not.</p>


	<p>[1] There&#8217;s a little white lie there to be fair.  Of course I <em>could&#8217;ve</em> signed up.  They didn&#8217;t put a spell on me (although that&#8217;d be cool) or anything.  It&#8217;s just that I feel uncomfortable giving out the answers to real questions (mother&#8217;s maiden name) and there&#8217;s zero chance of me remembering the answer to made up questions (favourite colour/day/smell).</p>


	<p>[2] I was going to cleverly protect my email addresses from prying robot eyes&#8230;  but really can&#8217;t be bothered.</p>

                
                  <p>
                    Tags 
                    
                      <a href="/articles/tag/claimid" rel="tag">claimid</a>, 
                    
                      <a href="/articles/tag/open" rel="tag">open</a>, 
                    
                      <a href="/articles/tag/reevoo" rel="tag">reevoo</a>, 
                    
                      <a href="/articles/tag/wesabe" rel="tag">wesabe</a>, 
                    
                  </p>
                
              

            </div>
          </div>
        </div>
        <div class="yui-b">
          <img src="/images/me.jpg" width="170px" height="111px" alt="Me">
          
          <ul class="navigation">
            <li>
              <a href="/contents">contents</a>
            </li>
            <li>
              <a href="http://flickr.com/photos/chrisjroos">flickr</a>
            </li>
          </ul>
          
          <div id="twitter_div">
            <h3><a href="http://twitter.com/chrisroos">twitter</a></h3>
            <ul id="twitter_update_list"></ul>
          </div>
          
          <div id="deliciousContainer">
            <h3><a href="http://del.icio.us/chrisjroos">del.icio.us</a></h3>
          </div>
        </div>
      </div>
    </div>
    <div id="ft">
      <!-- Footer -->
    </div>
    
    <script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script>
    <script type="text/javascript" src="http://twitter.com/statuses/user_timeline/chrisroos.json?callback=twitterCallback2&amp;count=5"></script>
    
    <script type="text/javascript" src="http://del.icio.us/feeds/json/chrisjroos?count=5"></script>
    <script type="text/javascript" src="/javascripts/delicious.js"></script>
  
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-160238-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>
  </body>

</html>