<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

  <head>
    <meta name="microid" content="ff511e16d7108be450fccd6f4611cf8d1d5416d1" >
    <meta http-equiv="content-type" content="text/html; charset=utf-8" >
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/DeferredUntilInspirationHits" >
    <link rel="stylesheet" href="http://yui.yahooapis.com/2.5.1/build/reset-fonts-grids/reset-fonts-grids.css" type="text/css" media="all">
    <link rel="stylesheet" href="/blog.css" type="text/css" media="screen" charset="utf-8">
    <link rel="stylesheet" href="/syntax.css" type="text/css" media="screen" charset="utf-8">
    <link rel="openid.server" href="http://www.myopenid.com/server">
    <link rel="openid.delegate" href="http://chrisroos.myopenid.com/">
    <title>Posts tagged firefox - deferred until inspiration hits</title>
  </head>
  
  <body>
    
    <div id="doc3" class="yui-t4">
      <div id="hd">
        <h1><a class="blogTitle" href="/">deferred until inspiration hits</a></h1>
      </div>
      <div id="bd">
        <div id="yui-main">
          <div class="yui-b">
            <div class="yui-g">

              
                <h2>
                  <a href="/articles/2007/12/18/extracting-my-del-icio-us-permalinks-functionality-into-its-own-firefox-extension">Extracting my del.icio.us permalinks functionality into its own firefox extension</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Tue, 18 Dec 2007 23:01:00">
                    Tue, 18 Dec 2007 23:01:00
                  </span>
                </p>

                <p>My <a href="http://blog.seagul.co.uk/articles/2007/09/05/patching-the-del-icio-us-firefox-extension-to-add-permalinks">previous implementation</a> amended the <a href="https://addons.mozilla.org/en-US/firefox/addon/3615">del.icio.us bookmarks extension</a>.  I spent some time this morning, and evening, extracting the functionality into its own <a href="http://chrisroos.googlecode.com/svn/trunk/delicious-permalinks/">extension</a>.  This should mean that I remain decoupled from their extension: I don&#8217;t have to update, or even just apply, my original patch whenever the del.icio.us extension is changed.  It should also make it much easier for anyone else to try (if they so wish).</p>


	<p>I&#8217;ve created a <a href="http://groups.google.com/group/delicious-permalinks/">google group</a> if folks want to chat about it.</p>


	<p>To install the extension just visit the (very, very basic) <a href="http://delicious-permalinks.googlegroups.com/web/installation.html">installation page</a>.</p>

                
                  <p>
                    Tags 
                    
                      <a href="/articles/tag/bookmark" rel="tag">bookmark</a>, 
                    
                      <a href="/articles/tag/del.icio.us" rel="tag">del.icio.us</a>, 
                    
                      <a href="/articles/tag/extension" rel="tag">extension</a>, 
                    
                      <a href="/articles/tag/firefox" rel="tag">firefox</a>, 
                    
                      <a href="/articles/tag/permalinks" rel="tag">permalinks</a>, 
                    
                  </p>
                
              
                <h2>
                  <a href="/articles/2007/12/14/cross-browser-well-ie-6-firefox-2-and-safari-3-bookmarklet-script">Cross browser (well, IE 6, Firefox 2 and Safari 3) bookmarklet script</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Fri, 14 Dec 2007 21:27:00">
                    Fri, 14 Dec 2007 21:27:00
                  </span>
                </p>

                <p>I <a href="http://blog.seagul.co.uk/articles/2007/12/14/bookmarklet-favelet-limits-in-internet-explorer-6-and-7">mentioned</a> that I&#8217;d been playing with bookmarklets in Internet Explorer 6 (among other, proper, browsers).</p>


	<p>I thought it might be useful to paste the script that bootstraps the bookmarklet.  The concept is that we use the bookmarklet javascript to insert a script tag into the page that links to the full javascript file containing the function(s) that we wish to execute.  I know this has been documented elsewhere and I&#8217;ve probably missed some important stuff out but it may prove useful to someone.</p>


	<h3>The commented, un-compressed, version</h3>


<div class="typocode"><pre><code class="typocode_javascript">if (typeof(rvmBM) == 'undefined') { // Best to name rvmBM to something unlikely to clash with pre-defined variables
  var s = document.createElement('script'); // Use of s versus script saves some precious space
  s.type = 'text/javascript';
  s.src = 'http://example.com/my-external-bookmarklet.js'; // The location of your bookmarklet javascript that does all the work
  void(rvmBM = true); // Prevent the bookmarklet javascript from being loaded multiple times by setting this flag
  void(document.body.appendChild(s)); // Place the script tag in the body of the document
  // If we don't use void() above then we end up writing either 'true' or some junk to the screen in Internet Explorer (only)
};
function addRvm() { // A wrapper function around the actual function we want to call
  if (typeof(addReevooMark) == 'function') { // We want to make sure our bookmarklet function is defined (there's some delay in it becoming available in Firefox.  It's defined immediately in Internet Explorer.)
    addReevooMark();
  } else {
    void(setTimeout(addRvm, 100)); // If our function isn't ready yet we'll just hang on 1/10th of a second and try again
  };
};
addRvm(); // Ask our wrapper function to call the actual bookmarklet function</code></pre></div>

	<h3>The compressed version</h3>


<div class="typocode"><pre><code class="typocode_javascript">javascript:if(typeof(rvmBM)=='undefined'){var s=document.createElement('script');s.type='text/javascript';s.src='http://example.com/my-external-bookmarklet.js';void(rvmBM=true);void(document.body.appendChild(s));};function addRvm(){if(typeof(addReevooMark)=='function'){addReevooMark();}else{void(setTimeout(addRvm,100));};};addRvm();</code></pre></div>

                
                  <p>
                    Tags 
                    
                      <a href="/articles/tag/bookmarklet" rel="tag">bookmarklet</a>, 
                    
                      <a href="/articles/tag/browser" rel="tag">browser</a>, 
                    
                      <a href="/articles/tag/explorer" rel="tag">explorer</a>, 
                    
                      <a href="/articles/tag/firefox" rel="tag">firefox</a>, 
                    
                      <a href="/articles/tag/internet" rel="tag">internet</a>, 
                    
                      <a href="/articles/tag/internet-explorer" rel="tag">internet-explorer</a>, 
                    
                      <a href="/articles/tag/javascript" rel="tag">javascript</a>, 
                    
                      <a href="/articles/tag/safari" rel="tag">safari</a>, 
                    
                  </p>
                
              
                <h2>
                  <a href="/articles/2007/09/05/patching-the-del-icio-us-firefox-extension-to-add-permalinks">Patching the del.icio.us firefox extension to add permalinks</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Wed, 05 Sep 2007 22:41:00">
                    Wed, 05 Sep 2007 22:41:00
                  </span>
                </p>

                <p>I spent some of my train time today hacking around with the <a href="http://del.icio.us">del.icio.us</a> <a href="http://www.mozilla.com/en-US/firefox/">firefox</a> <a href="https://addons.mozilla.org/en-US/firefox/addon/3615">extension</a>.  Although I&#8217;m sure it&#8217;s bad in many, many ways, I&#8217;ve managed to add the <a href="http://en.wikipedia.org/wiki/Permalink">permalink</a> functionality I <a href="http://blog.seagul.co.uk/articles/2007/09/04/permalinks-for-del-icio-us-bookmarks-posts">mentioned</a> yesterday.  You can either apply the patch yourself, or download the patched jar file.</p>


	<h3>To apply the patch.</h3>


<div class="typocode"><pre><code class="typocode_default"># Install Firefox extension 1.5.43
$ cd MY_FIREFOX_PROFILE_DIRECTORY # ~/Library/Application Support/Firefox/Profiles/RAND_CHARS.default for me
$ cd extensions/{2fa4ed95-0317-4c6a-a74c-5f3e3912c1f9}/chrome
$ svn export http://chrisroos.googlecode.com/svn/trunk/delicious_url_tags/delicious-extension-url-tag.patch
$ unzip deliciousBookmarks.jar
$ rm deliciousBookmarks.jar
$ patch -p1 &lt; delicious-extension-url-tag.patch
$ zip -r deliciousBookmarks.jar content/ locale/ skin/ 
$ rm -rf content/ locale/ skin/
# Restart Firefox</code></pre></div>

	<h3>To use the patched compressed file</h3>


<div class="typocode"><pre><code class="typocode_default"># Install Firefox extension 1.5.43
$ cd MY_FIREFOX_PROFILE_DIRECTORY # ~/Library/Application Support/Firefox/Profiles/RAND_CHARS.default for me
$ cd extensions/{2fa4ed95-0317-4c6a-a74c-5f3e3912c1f9}/chrome
$ rm deliciousBookmarks.jar
$ svn export http://chrisroos.googlecode.com/svn/trunk/delicious_url_tags/deliciousBookmarks.jar 
# Restart Firefox</code></pre></div>

	<p>Now, anytime you bookmark a site, the tags field will be pre-populated with a url-tag (&#8220;url/MD5_OF_URL&#8221;).  Cool huh.  Oh, and the patched extension uses this javascript <a href="http://pajhome.org.uk/crypt/md5/">md5</a> library.</p>

                
                  <p>
                    Tags 
                    
                      <a href="/articles/tag/bookmarks" rel="tag">bookmarks</a>, 
                    
                      <a href="/articles/tag/del.icio.us" rel="tag">del.icio.us</a>, 
                    
                      <a href="/articles/tag/extension" rel="tag">extension</a>, 
                    
                      <a href="/articles/tag/firefox" rel="tag">firefox</a>, 
                    
                      <a href="/articles/tag/permalinks" rel="tag">permalinks</a>, 
                    
                  </p>
                
              
                <h2>
                  <a href="/articles/2005/11/26/firefox-close-tabs-like-safari">Firefox close tabs like Safari</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Sat, 26 Nov 2005 21:11:00">
                    Sat, 26 Nov 2005 21:11:00
                  </span>
                </p>

                <p>Having got really used to the location of the close button in <a href="http://www.apple.com/uk/macosx/features/safari/">safari</a> I had problems getting used to <a href="http://www.mozilla.org/products/firefox/">firefox</a> again.  Luckily, <a href="https://addons.mozilla.org/extensions/authorprofiles.php?application=firefox&#38;id=2318">some kind soul</a> has created an extension called <a href="https://addons.mozilla.org/extensions/moreinfo.php?application=firefox&#38;id=785">Tab X</a> which basically replicates the safari close button behaviour in firefox, albeit at the opposite side of the tab.  That&#8217;s cool.</p>

                
                  <p>
                    Tags 
                    
                      <a href="/articles/tag/extensions" rel="tag">extensions</a>, 
                    
                      <a href="/articles/tag/firefox" rel="tag">firefox</a>, 
                    
                      <a href="/articles/tag/safari" rel="tag">safari</a>, 
                    
                      <a href="/articles/tag/tabs" rel="tag">tabs</a>, 
                    
                      <a href="/articles/tag/tabx" rel="tag">tabx</a>, 
                    
                  </p>
                
              

            </div>
          </div>
        </div>
        <div class="yui-b">
          <ul class="navigation">
            <li>
              <a href="/contents">contents</a>
            </li>
            <li>
              <a href="http://twitter.com/chrisroos">twitter</a>
            </li>
            <li>
              <a href="http://flickr.com/photos/chrisjroos">flickr</a>
            </li>
            <li>
              <a href="http://del.icio.us/chrisjroos">del.icio.us</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div id="ft">
      <!-- Footer -->
    </div>
  
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-160238-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>
  </body>

</html>