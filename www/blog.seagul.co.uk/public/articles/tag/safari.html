<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

  <head>
    <meta name="microid" content="ff511e16d7108be450fccd6f4611cf8d1d5416d1" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/DeferredUntilInspirationHits" />
    <link rel="stylesheet" href="/stylesheets/azure.css" media="all" type="text/css" />
    <link rel="stylesheet" href="/stylesheets/print.css" media="print" type="text/css" />
    <link rel="openid.server" href="http://www.myopenid.com/server"/>
    <link rel="openid.delegate" href="http://chrisroos.myopenid.com/"/>
    <title>Posts tagged safari - deferred until inspiration hits</title>
  </head>

  <body>
  
    <div id="container" class="clearfix">
    
      <div id="header">
        <div id="logo">
          <h1 id="sitename"><a href="/">deferred until inspiration hits</a></h1>
        </div>
      </div>

      <div id="search">
      </div>

      <div id="content" class="clearfix">

        <div id="main">

          
            <div class="post">
              <h2>
                <a href="/articles/2007/12/14/cross-browser-well-ie-6-firefox-2-and-safari-3-bookmarklet-script">Cross browser (well, IE 6, Firefox 2 and Safari 3) bookmarklet script</a>
              </h2>
              <p class="auth">
                Posted by Chris Roos
                <span class="typo_date" title="Fri, 14 Dec 2007 21:27:00">
                  Fri, 14 Dec 2007 21:27:00
                </span>
              </p>
          
              <p>I <a href="http://blog.seagul.co.uk/articles/2007/12/14/bookmarklet-favelet-limits-in-internet-explorer-6-and-7">mentioned</a> that I&#8217;d been playing with bookmarklets in Internet Explorer 6 (among other, proper, browsers).</p>


	<p>I thought it might be useful to paste the script that bootstraps the bookmarklet.  The concept is that we use the bookmarklet javascript to insert a script tag into the page that links to the full javascript file containing the function(s) that we wish to execute.  I know this has been documented elsewhere and I&#8217;ve probably missed some important stuff out but it may prove useful to someone.</p>


	<h3>The commented, un-compressed, version</h3>


<div class="typocode"><pre><code class="typocode_javascript">if (typeof(rvmBM) == 'undefined') { // Best to name rvmBM to something unlikely to clash with pre-defined variables
  var s = document.createElement('script'); // Use of s versus script saves some precious space
  s.type = 'text/javascript';
  s.src = 'http://example.com/my-external-bookmarklet.js'; // The location of your bookmarklet javascript that does all the work
  void(rvmBM = true); // Prevent the bookmarklet javascript from being loaded multiple times by setting this flag
  void(document.body.appendChild(s)); // Place the script tag in the body of the document
  // If we don't use void() above then we end up writing either 'true' or some junk to the screen in Internet Explorer (only)
};
function addRvm() { // A wrapper function around the actual function we want to call
  if (typeof(addReevooMark) == 'function') { // We want to make sure our bookmarklet function is defined (there's some delay in it becoming available in Firefox.  It's defined immediately in Internet Explorer.)
    addReevooMark();
  } else {
    void(setTimeout(addRvm, 100)); // If our function isn't ready yet we'll just hang on 1/10th of a second and try again
  };
};
addRvm(); // Ask our wrapper function to call the actual bookmarklet function</code></pre></div>

	<h3>The compressed version</h3>


<div class="typocode"><pre><code class="typocode_javascript">javascript:if(typeof(rvmBM)=='undefined'){var s=document.createElement('script');s.type='text/javascript';s.src='http://example.com/my-external-bookmarklet.js';void(rvmBM=true);void(document.body.appendChild(s));};function addRvm(){if(typeof(addReevooMark)=='function'){addReevooMark();}else{void(setTimeout(addRvm,100));};};addRvm();</code></pre></div>
            </div>
        
            <p class="meta">
              
                Tags 
                
                  <a href="/articles/tag/bookmarklet" rel="tag">bookmarklet</a>, 
                
                  <a href="/articles/tag/browser" rel="tag">browser</a>, 
                
                  <a href="/articles/tag/explorer" rel="tag">explorer</a>, 
                
                  <a href="/articles/tag/firefox" rel="tag">firefox</a>, 
                
                  <a href="/articles/tag/internet" rel="tag">internet</a>, 
                
                  <a href="/articles/tag/internet-explorer" rel="tag">internet-explorer</a>, 
                
                  <a href="/articles/tag/javascript" rel="tag">javascript</a>, 
                
                  <a href="/articles/tag/safari" rel="tag">safari</a>, 
                
              
            </p>
          
            <div class="post">
              <h2>
                <a href="/articles/2005/11/26/firefox-close-tabs-like-safari">Firefox close tabs like Safari</a>
              </h2>
              <p class="auth">
                Posted by Chris Roos
                <span class="typo_date" title="Sat, 26 Nov 2005 21:11:00">
                  Sat, 26 Nov 2005 21:11:00
                </span>
              </p>
          
              <p>Having got really used to the location of the close button in <a href="http://www.apple.com/uk/macosx/features/safari/">safari</a> I had problems getting used to <a href="http://www.mozilla.org/products/firefox/">firefox</a> again.  Luckily, <a href="https://addons.mozilla.org/extensions/authorprofiles.php?application=firefox&#38;id=2318">some kind soul</a> has created an extension called <a href="https://addons.mozilla.org/extensions/moreinfo.php?application=firefox&#38;id=785">Tab X</a> which basically replicates the safari close button behaviour in firefox, albeit at the opposite side of the tab.  That&#8217;s cool.</p>
            </div>
        
            <p class="meta">
              
                Tags 
                
                  <a href="/articles/tag/extensions" rel="tag">extensions</a>, 
                
                  <a href="/articles/tag/firefox" rel="tag">firefox</a>, 
                
                  <a href="/articles/tag/safari" rel="tag">safari</a>, 
                
                  <a href="/articles/tag/tabs" rel="tag">tabs</a>, 
                
                  <a href="/articles/tag/tabx" rel="tag">tabx</a>, 
                
              
            </p>
          

        </div>

        <div id="sidebar">

          <div class="sidebar-node">
            <h3>Syndicate</h3>
            <a href="http://feeds.feedburner.com/DeferredUntilInspirationHits" title="Subscribe to my feed, deferred until inspiration hits" rel="alternate" type="application/rss+xml">
              <img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="border:0"/> 
              Subscribe to the feed
            </a>
          </div>

        </div>

        <br clear="all" />

      </div>
    
      <div id="footer">
      </div>

    </div>
  
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-160238-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>
  </body>

</html>