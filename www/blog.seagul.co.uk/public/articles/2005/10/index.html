<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

  <head>
    <meta name="microid" content="ff511e16d7108be450fccd6f4611cf8d1d5416d1" >
    <meta http-equiv="content-type" content="text/html; charset=utf-8" >
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/DeferredUntilInspirationHits" >
    <link rel="stylesheet" href="/stylesheets/yui-reset-fonts-grids.css" type="text/css" media="all">
    <link rel="stylesheet" href="/stylesheets/blog.css" type="text/css" media="screen" charset="utf-8">
    <link rel="stylesheet" href="/stylesheets/syntax.css" type="text/css" media="screen" charset="utf-8">
    <link rel="openid.server" href="http://www.myopenid.com/server">
    <link rel="openid.delegate" href="http://chrisroos.myopenid.com/">
    <title>Posts published in October 2005 - deferred until inspiration hits</title>
  </head>
  
  <body>
    
    <div id="doc3" class="yui-t4">
      <div id="hd">
        <h1><a class="blogTitle" href="/">deferred until inspiration hits</a></h1>
      </div>
      <div id="bd">
        <div id="yui-main">
          <div class="yui-b">
            <div class="yui-g">

              
                <h2>
                  <a href="/articles/2005/10/30/run-one-ruby-test-unit-test-from-command-line">Run one ruby test/unit test from command line</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Sun, 30 Oct 2005 09:38:00">
                    Sun, 30 Oct 2005 09:38:00
                  </span>
                </p>

                <p>Summary..</p>


<code>
# ruby [programfile] -n [testmethod]
</code>

	<p><a href="http://wiki.rubyonrails.com/rails/pages/HowtoRunOneTest">Source Page</a></p>


	<p><a href="http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/163358">Explanation</a> from ruby mailing list</p>

                
              
                <h2>
                  <a href="/articles/2005/10/07/setting-up-typo-from-svn-trunk">Setting up Typo from SVN Trunk</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Fri, 07 Oct 2005 17:26:00">
                    Fri, 07 Oct 2005 17:26:00
                  </span>
                </p>

                <p>This is for <a href="http://httpd.apache.org">Apache</a> 1.3 with <a href="http://www.fastcgi.com">FastCgi</a>, <a href="http://www.ruby-lang.org">Ruby</a>, <a href="http://www.mysql.org">MySql</a> 4 and <a href="http://subversion.tigris.org">Subversion</a> already installed on <a href="http://www.freebsd.org">FreeBsd</a> 4.11 Stable.</p>


<pre>
# svn checkout svn://leetsoft.com/typo/trunk typo
</pre>

	<p>In the public directory, within the newly created typo directory, edit the dispatch.fcgi file, changing the #! (shebang) line to /usr/local/bin/ruby.</p>


	<p>Create a database for the typo install.</p>


<pre>
# mysql
mysql&gt; create database typo;
mysql&gt; quit
</pre>

	<p>Copy the default database.yml.example file in config directory to database.yml.  Edit the file with the mysql credentials for your server.  Ignore (possibly remove) the development and test sections of the config file as these are not required in &#8216;production&#8217;.</p>


	<p>Use the mysql script in the db directory to create database tables.</p>


<pre>
# mysql -Dtypo &lt; db/schema.mysql.sql
</pre>

	<p><strong>NB.</strong> There is a mysql-v3 script as well.  As far as I can tell the only difference is the database engine (InnoDb by default and MyIsam in v3).</p>


	<p>Add a new FastCgiServer to the Apache config (httpd.conf).</p>


<pre>
FastCgiServer /home/web/typo/public/dispatch.fcgi -initial-env RAILS_ENV=production
</pre>

	<p>Add a virtual host for this new site.</p>


	<p><em>To do</em></p>


	<p>Restart apache.</p>


<pre>
# apachectl graceful
</pre>

	<p>That&#8217;s it.</p>

                
              
                <h2>
                  <a href="/articles/2005/10/02/cyrus-imap">Cyrus Imap</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Sun, 02 Oct 2005 20:18:16">
                    Sun, 02 Oct 2005 20:18:16
                  </span>
                </p>

                <p>I&#8217;ve been trying to install Cyrus Imap today.  Initial writing is <a href="/pages/cyrus-imap">here</a>.</p>

                
              
                <h2>
                  <a href="/articles/2005/10/02/typo-pings">Typo pings</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Sun, 02 Oct 2005 19:51:00">
                    Sun, 02 Oct 2005 19:51:00
                  </span>
                </p>

                <p>I updated Typo last night to run from svn trunk, just to get the added benefit of pinging sites like <a href="http://www.weblogs.com">weblogs</a> and <a href="http://www.technorati.com">technorati</a> whenever I publish an article.  All was running smoothly until I just tried to create the newsreader article.  On saving, I get a not very helpful Rails app error.  The logs didn&#8217;t help an amazing amount either&#8230;</p>


	<p>It was at around this point that I remembered that my shared hosting account didn&#8217;t actually allow for certain low level network access (e.g. <acronym title="Internet Control Message Protocol">ICMP</acronym>) from my virtual machine.  Sure enough, disabling the auto-ping option made the error go away.  Having looked a bit further it would appear that the articles were actually being saved but I was seeing the error when the ping request was timing out.  This has already been reported on <a href="http://typo.leetsoft.com/trac/ticket/400">typo trac</a>.  I must admit I don&#8217;t know the exact cause of the problem here but am guessing that the blog ping&#8217;s require access to some network operation that I don&#8217;t have permissions for&#8230;</p>


	<p><strong><em>update Fri 7th Oct</em></strong></p>


	<p>Mmmm, seems I was being stupid in my assumption.  The &#8216;blog pings&#8217; just transfer data over http, nothing lower than that.  As such, the problem must have been caused by a non-respondent ping server at the time I was trying to save.  In fact, I just created a new test article and enabled the pings and all worked fine.  Oops.</p>

                
              
                <h2>
                  <a href="/articles/2005/10/02/online-news-reader">Online news reader</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Sun, 02 Oct 2005 19:02:00">
                    Sun, 02 Oct 2005 19:02:00
                  </span>
                </p>

                <p>It&#8217;s been on my list for quite a while to check out online newsreaders in order to replace my flagging <a href="http://www.sharpreader.com">desktop client of choice</a>.</p>


	<p>This has been pushed up the list by my recent contract taking me away from my main machine for the best part of the week.  As such, I spent last night looking at some of the alternatives listed on <a href="http://en.wikipedia.org/wiki/List_of_news_aggregators#Online_news_aggregators">this</a> <a href="http://www.wikipedia.org">wikipedia</a> article.</p>


	<p>I&#8217;m currently torn between <a href="http://www.bloglines.com">bloglines</a> and <a href="http://www.bloxor.com">blox0r</a> and although bloxor was slightly ahead last night I&#8217;ve actually been using bloglines more during the day today.</p>


	<p>Blox0r is a <acronym title="XML User interface Language">XUL</acronym> app which means that it only runs in Mozilla browsers (I think).  This provides for a very rich and clean interface which suits me perfectly.  Unfortunately, I&#8217;m just not 100% sure that it&#8217;s doing exactly what I expect it to be doing &#8211; a handful of feeds are not rendering as they should which makes me wonder what else may not be working correctly.  Hence my current persuasion toward bloglines, which although looks a little too &#8216;full featured&#8217; for my needs is at least rendering all of my feeds correctly.</p>


	<p>I also tested the following services last night, none of which seemed to come up to scratch.  Feed lounge actually looks very promising but is currently in a non public alpha so I&#8217;ll have to wait a little longer on that one.</p>


	<ul>
	<li><a href="http://reader.bloogz.com">bloogz</a> &#8211; no opml import</li>
		<li><a href="http://www.newsgator.com">newsgator</a> &#8211; maybe too &#8216;commercial&#8217; looking</li>
		<li><a href="http://www.2rss.com">2rss</a> &#8211; too complicated, didn&#8217;t actually know what to do</li>
		<li><a href="http://beanrocket.com">bean rocket</a> &#8211; didn&#8217;t import opml</li>
		<li><a href="http://feed-tank.com">feed-tank</a> &#8211; rails, no categories, didn&#8217;t import correctly</li>
		<li><a href="http://www.newsisfree.com">news is free</a> &#8211; slightly too complicated</li>
		<li><a href="http://www.rss-feed.org">rss-feed</a> &#8211; no opml import</li>
		<li><a href="http://www.rssfreaks.com">rss freaks</a> &#8211; no opml import</li>
		<li><a href="http://www.waggr.com">waggr</a> &#8211; pretty good, slight interface problems, import opml but no categories</li>
		<li><a href="http://www.feedlounge.com">feed lounge</a> &#8211; looks good, still in alpha.</li>
	</ul>

                
              
                <h2>
                  <a href="/articles/2005/10/01/instiki-ar-with-sqlite3-on-windows-xp">Instiki-AR with sqlite3 on Windows XP</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Sat, 01 Oct 2005 15:39:00">
                    Sat, 01 Oct 2005 15:39:00
                  </span>
                </p>

                <p>I&#8217;ve used <a href="http://www.instiki.org">Instiki</a> quite a bit for storing what are essentially notes.</p>


	<p>Although it&#8217;s been a true <a href="http://www.rubyonrails.com">Rails</a> app for a while, due to it&#8217;s use of <a href="http://madeleine.sourceforge.net/">Madeleine</a> for object persistence, it required a couple of workarounds to host it using <a href="http://httpd.apache.org">apache</a>.  Namely, run Instiki on <a href="http://www.webrick.org">WEBrick</a> and then use mod_proxy in apache to forward requests for a given url to the webrick server.</p>


	<p>Just a couple of days ago Alexey Verkhovsky (Instiki maintainer) <a href="http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/158000">announced</a> that a beta version of Instiki (<a href="http://rubyforge.org/frs/download.php/6258/instiki-ar-beta1.zip">Instiki-AR</a>) running on <a href="http://ar.rubyonrails.com/">Active Record</a> was available.  This basically means that Instiki can now be run directly via apache using <a href="http://www.fastcgi.com/">fast cgi</a>, negating the need for mod_proxy and running in &#8216;production&#8217; on WEBrick.</p>


	<p>I downloaded the beta this morning and had a quick play.  Initially I created a <a href="http://www.mysql.org">MySQL</a> database and ran script/create_db to create the relevant tables in the database.  Everything worked as expected, although I didn&#8217;t actually try to import any existing data.</p>


	<p>I&#8217;ve read about <a href="http://sqlite.org/">sqlite</a> quite a few times but have never got round to actually playing with it.  As such, I spent a short time getting Instiki-AR to use sqlite as it&#8217;s backend.</p>


	<p>First off, I installed the sqlite3 gem (sqlite3-ruby 1.1.0 (mswin32)).</p>


<div class="typocode">
<pre>
# gem install sqlite3
</pre>
</div>

	<p>This was followed by downloading the <a href="http://www.sqlite.org/sqlitedll-3_2_7.zip">sqlite dll</a> and placing it in a directory in my path environment variable.  This was all that was actually required.</p>


	<p>I used script/create_db to create the database files and tables as with the mysql implementation and everything just worked.</p>


	<p><strong><em>Update 17:30</em></strong></p>


	<p>I&#8217;ve just played a little further and actually imported data from an existing instiki instance to the sqlite database.</p>


	<p>First of all, I created a copy of my original instiki with the madeleine storage in the storage directory.</p>


	<p>In the instiki-ar version I then ran the following (from Alexey&#8217;s original email) to output a sql script that will import all of my wiki content into the database.</p>


<div class="typocode">
<pre>
# ruby script\import_storage -i d:\instiki -t d:\instiki-ar\storage\2500 -o i.sql -d sqlite
</pre>
</div>

	<p>I then downloaded the <a href="http://sqlite.org/sqlite-3_2_7.zip">sqlite3</a> utility to administer sqlite databases.  I placed this in a directory included in my path environment variable.</p>


	<p>Start sqlite3 with the location of the production database as the argument.</p>


<div class="typocode">
<pre>
# sqlite3 db\prod.db
</pre>
</div>

	<p>Execute the i.sql script to import all of the data to sqlite.</p>


<div class="typocode">
<pre>
sqlite&gt; .read i.sql
sqlite&gt; .quit
</pre>
</div>

	<p>That&#8217;s it.  My original wiki content is now in the AR version and everything seems to work great.</p>


	<p><strong>Note</strong> To get instiki-ar from subversion.</p>


<div class="typocode">
<pre>
# svn export --revision 397 http://svn.instiki.org/instiki/branches/instiki-ar/
</pre>
</div>

                
              

            </div>
          </div>
        </div>
        <div class="yui-b">
          <img src="/images/me.jpg" width="170px" height="111px" alt="Me">
          
          <ul class="navigation">
            <li>
              <a href="/contents">contents</a>
            </li>
            <li>
              <a href="http://flickr.com/photos/chrisjroos">flickr</a>
            </li>
          </ul>
          
          <div id="twitter_div">
            <h3><a href="http://twitter.com/chrisroos">twitter</a></h3>
            <ul id="twitter_update_list"></ul>
          </div>
          
          <div id="deliciousContainer">
            <h3><a href="http://del.icio.us/chrisjroos">del.icio.us</a></h3>
          </div>
        </div>
      </div>
    </div>
    <div id="ft">
      <!-- Footer -->
    </div>
    
    <script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script>
    <script type="text/javascript" src="http://twitter.com/statuses/user_timeline/chrisroos.json?callback=twitterCallback2&amp;count=5"></script>
    
    <script type="text/javascript" src="http://del.icio.us/feeds/json/chrisjroos?count=5"></script>
    <script type="text/javascript" src="/javascripts/delicious.js"></script>
  
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-160238-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>
  </body>

</html>