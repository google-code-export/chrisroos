<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

  <head>
    <!--#include virtual="/includes/_head.html"-->
    <title>Posts published in March 2006 - deferred until inspiration hits</title>
    <meta name="robots" content="noindex" />
  </head>
  
  <body>
    
    <div id="doc3" class="yui-t4">
      <div id="hd">
        <!--#include virtual="/includes/_header.html"-->
      </div>
      <div id="bd">
        <div id="yui-main">
          <div class="yui-b">
            <div class="yui-g">

              
                <h2>
                  <a href="/articles/2006/03/08/my-first-reevoo">My first reevoo!</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Wed, 08 Mar 2006 09:20:00">
                    Wed, 08 Mar 2006 09:20:00
                  </span>
                </p>

                <div class='hreview'>
  <span class='version' style='display:none'>0.2</span>
  <span class='type' style='display:none'>product</span>
  <div class='item'>
    <span class='fn'>Apple Ipod Shuffle 1 Gb</span>
    <ul class='identifiers' style='display: none'>
      <li><a class='url' href='http://www.reevoo.com/pages/apple_ipodshuffle1gb'>http://www.reevoo.com/pages/apple_ipodshuffle1gb</a></li><li><a class='url' href='urn:ean.ucc:718908929278'>urn:ean.ucc:718908929278</a></li>
    </ul>
  </div>
  <div class='description'>

	<p>I bought this recently to wile away the large amount of time I spend on trains.  I bought it just after Apple released the 1gb nano and therefore benefitted from the price drop to Â£69.</p>


	<p>Overall, it&#8217;s pretty good.  Although not the largest mp3 device on the market, there&#8217;s more than enough storage for my current needs.  I like the ability to resume playing from the last stopped position.  This is useful for spoken word audio as it would be difficult to get back to the exact same position without a display showing how far through you are.  One thing I didn&#8217;t know for certain until purchasing the unit was that there are two modes, shuffle and ordered play.  Again, the ordered play can come in useful for spoken word (podcast) content.</p>


	<p>Although I&#8217;m generally quite pleased I do have a few niggles with it.</p>


	<ul>
	<li>The itunes software doesn&#8217;t allow you to copy tracks from multiple pc&#8217;s (apparently all other ipod&#8217;s allow this).  If you have copied tracks from one pc and wish to then copy from another you first have to remove all tracks on the ipod.  You can actually copy the tracks directly from the ipod filesystem and play them on a different pc but I&#8217;m guessing that if they&#8217;ve been purchased through itunes and therefore drm&#8217;d up this might not work (I only tried it with downloaded podcasts).</li>
	</ul>


	<ul>
	<li>The cord used to place the shuffle round your neck is too short.  It hangs at about chest high making it difficult to get access to the shuffle if under clothing (which I&#8217;m guessing is pretty likely).</li>
	</ul>


	<ul>
	<li>I have a feeling it caused problems with my work mac (unconfirmed) when it was charging in the keyboard usb port.</li>
	</ul>


	<ul>
	<li>As someone that gets annoyed by hearing other peoples music, I try to ensure that I have the volume at a level that can&#8217;t be heard outside of my headphones.  This isn&#8217;t always easy with the supplied set (although I&#8217;d suggest this is more a problem of in-ear headphones rather than the apple specific ones).</li>
	</ul>


</div>

Rated <span class='rating'>3</span> by <span class='reviewer fn'>Chris</span>
  on <abbr class='dtreviewed' title='2006-03-08T08:53:00+00:00'>Mar 08, 2006</abbr>
</div>

<p>Find more real-world reviews or create your own at <a href='http://www.reevoo.com/'>Reevoo</a>.</p>

              
                <h2>
                  <a href="/articles/2006/03/08/rails-table-pluralization">Rails table pluralization</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Wed, 08 Mar 2006 07:48:00">
                    Wed, 08 Mar 2006 07:48:00
                  </span>
                </p>

                <p>I was talking to someone recently about the pluralisation of table names in <a href="http://www.rubyonrails.org">rails</a>.  It was grating him because some hand built queries no longer read very naturally.</p>


<div class="typocode"><pre><code class="typocode_sql">-- (in rails) requesting the forename of the 'first' person
SELECT forename FROM people WHERE people.id = 1;

-- would read better as
SELECT forename FROM person WHERE person.id = 1;</code></pre></div>

	<p><a href="http://po-ru.com/">Paul</a> (a colleague at <a href="http://www.reevoo.com">reevoo</a>) pointed out that there are two sides to the singular/plural table name debate.  You will always have some queries (as above) that will work better when the table is singular; and others (as below) that will work better when the table is plural.</p>


<div class="typocode"><pre><code class="typocode_sql">-- requesting all people having a country of 'uk'
SELECT * FROM person WHERE country = 'UK';

-- (in rails) would read better as
SELECT * FROM people WHERE country = 'UK';</code></pre></div>

	<p>Personally, because of the very small amount of hand written sql I&#8217;ve had to use with Rails this has never been an issue to me.  However, it did make me think about a slight adaptation to Active Record&#8230;</p>


	<p>By default (in Rails), you create a singular (active record) model (person) that maps to the plural table (people).  Although very convenient (it&#8217;s the reason I&#8217;ve rarely had to touch sql), it too suffers from the same problems outlined in the queries above.  I think the two statements below show the same sort of natural vs unnatural language that appears in the sql above.</p>


<div class="typocode"><pre><code class="typocode_ruby"><span class="comment"># good english (acting on a single person)</span>
<span class="constant">Person</span><span class="punct">.</span><span class="ident">name</span> <span class="punct">=</span> <span class="punct">'</span><span class="string">chris</span><span class="punct">'</span>
<span class="constant">Person</span><span class="punct">.</span><span class="ident">save</span>

<span class="comment"># bad english (we are asking for multiple people)</span>
<span class="constant">Person</span><span class="punct">.</span><span class="ident">find</span><span class="punct">(</span><span class="symbol">:all</span><span class="punct">,</span> <span class="symbol">:conditions</span> <span class="punct">=&gt;</span> <span class="punct">&quot;</span><span class="string">country = 'uk'</span><span class="punct">&quot;)</span></code></pre></div>

	<p>The adaptation to active record I was thinking about would allow you to operate on both a Person and People, using the variant that made the code read more naturally.  That is, we could leave the Person.name example above as is, but change the Person.find to People.find<sup><a href="#fn1">1</a></sup>.  There are different ways to go about this but to get some of the way there with a little code (i.e. not having to manually create both singular and plural classes for each table); I came up with the following simple hack.</p>


<div class="typocode"><pre><code class="typocode_ruby"><span class="keyword">class </span><span class="class">ActiveRecord::Base</span>
  <span class="keyword">class </span><span class="punct">&lt;&lt;</span> <span class="constant">self</span>
    <span class="ident">alias_method</span> <span class="symbol">:__existing_inherited</span><span class="punct">,</span> <span class="symbol">:inherited</span>
    <span class="keyword">def </span><span class="method">inherited</span><span class="punct">(</span><span class="ident">child</span><span class="punct">)</span>
      <span class="ident">__existing_inherited</span><span class="punct">(</span><span class="ident">child</span><span class="punct">)</span>
      <span class="ident">plural_class</span> <span class="punct">=</span> <span class="ident">child</span><span class="punct">.</span><span class="ident">to_s</span><span class="punct">.</span><span class="ident">pluralize</span>
      <span class="keyword">unless</span> <span class="ident">plural_class</span> <span class="punct">=~</span> <span class="punct">/</span><span class="regex">#&lt;Class:.</span><span class="punct">/</span> <span class="keyword">or</span> <span class="constant">Object</span><span class="punct">.</span><span class="ident">constants</span><span class="punct">.</span><span class="ident">include?</span><span class="punct">(</span><span class="ident">plural_class</span><span class="punct">)</span>
        <span class="constant">Object</span><span class="punct">.</span><span class="ident">const_set</span><span class="punct">(</span><span class="ident">plural_class</span><span class="punct">,</span> <span class="constant">Class</span><span class="punct">.</span><span class="ident">new</span><span class="punct">(</span><span class="ident">child</span><span class="punct">))</span>
      <span class="keyword">end</span>
    <span class="keyword">end</span>
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre></div>

	<p>Just add it to the bottom of your environment.rb file and when you first reference one of your singular classes it will automatically descend a plural class from it.</p>


	<p>There are lots of things wrong with this code and many better ways for it to be implemented but it was really just for me to see if I could do it.</p>


	<p id="fn1"><sup>1</sup> Boring and sad.  I was going to start that sentence with i.e. but wasn&#8217;t sure whether that was grammatically correct (I&#8217;m not very good at English).  I did a quick search and found that it translates as &#8216;that is&#8217; from the Latin which is much better.</p>

              
                <h2>
                  <a href="/articles/2006/03/06/cool-google-map-of-the-tube-network">Cool google map of the tube network...</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Mon, 06 Mar 2006 09:33:00">
                    Mon, 06 Mar 2006 09:33:00
                  </span>
                </p>

                <p>...<a href="http://tubejp.co.uk/">right here</a></p>

              
                <h2>
                  <a href="/articles/2006/03/05/installing-collaboa">Installing Collaboa</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Sun, 05 Mar 2006 11:58:00">
                    Sun, 05 Mar 2006 11:58:00
                  </span>
                </p>

                <p>I just spent a few minutes installing <a href="http://www.collaboa.org">collaboa</a> on my <a href="http://www.freebsd.org">FreeBsd</a> server.</p>


	<p>I already had a number of the pre-requisites installed.  All that was outstanding was <a href="http://www.swig.org">swig</a>, the <a href="http://www.freshports.org/devel/subversion-ruby/">subversion-ruby bindings</a> and the <a href="http://www.freshports.org/converters/ruby-iconv/">ruby iconv bindings</a> which were all installed using packages.</p>


	<p>Collaboa is a <a href="http://www.rubyonrails.org">rails</a> alternative to <a href="http://www.edgewall.com/trac/">trac</a>, minus the wiki.  It basically provides a nice frontend to subversion and some project management&#8217;y type stuff.  I&#8217;m using it to host my <a href="http://dev.seagul.co.uk">poor attempts</a> at coding.</p>

              
                <h2>
                  <a href="/articles/2006/03/01/claimid-for-managing-online-identity">ClaimId for managing online identity</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Wed, 01 Mar 2006 08:47:00">
                    Wed, 01 Mar 2006 08:47:00
                  </span>
                </p>

                <p>I started reading about <a href="http://claimid.com">claim id</a> about a week ago, just as they were talking about launching a public beta.</p>


	<p>As soon as the beta was launched I signed up and added <a href="http://claimid.com/chrisjroos">some links</a> to content about/by me on the web.</p>


	<p>I like the approach they take; very simply grouping links based on their meaning to you.</p>


	<p>One of the things we want for <a href="http://www.reevoo.com">reevoo</a> is the concept of &#8216;my reviews&#8217;.  My personal preference has been to utilise one of many <a href="http://www.sixapart.com/typekey/index">existing</a> <a href="http://openid.net/">authentication</a> services; but something has changed in my mind since seeing claimid: sadly I can&#8217;t quite put my finger on it at present.</p>

              
                <h2>
                  <a href="/articles/2006/03/01/ruby-quiz-number-67-metakoans">Ruby Quiz number 67 (metakoans)</a>
                </h2>
                <p class="postedOn">
                  Posted by Chris Roos
                  <span class="typo_date" title="Wed, 01 Mar 2006 08:40:00">
                    Wed, 01 Mar 2006 08:40:00
                  </span>
                </p>

                <p>I just finished my first <a href="http://www.rubyquiz.com">rubyquiz</a>.  Yay.  I take a look every now and then but never seem to find the time to spend on them.</p>


	<p>I made the time for <a href="http://rubyquiz.com/quiz67.html">metakoans</a> as it involved &#8216;meta-programming&#8217; which I&#8217;ve recently spent some time on at <a href="http://www.reevoo.com">work</a></p>


	<p>My solution is here, and although it passes all the tests of the quiz it&#8217;s probably not great as this stuff still confuses me somewhat.  I didn&#8217;t take a look at any other solutions (although I will shortly) so any similarity is coincidental.</p>


<div class="typocode"><pre><code class="typocode_ruby"><span class="keyword">class </span><span class="class">Object</span>

  <span class="keyword">def </span><span class="method">attribute</span><span class="punct">(</span><span class="ident">arg</span><span class="punct">,</span> <span class="punct">&amp;</span><span class="ident">block</span><span class="punct">)</span>

    <span class="keyword">if</span> <span class="ident">arg</span><span class="punct">.</span><span class="keyword">class </span><span class="class">==</span> <span class="ident">Hash</span>
      <span class="ident">attribute</span> <span class="punct">=</span> <span class="ident">arg</span><span class="punct">.</span><span class="ident">keys</span><span class="punct">[</span><span class="number">0</span><span class="punct">]</span>
      <span class="ident">value</span> <span class="punct">=</span> <span class="ident">arg</span><span class="punct">.</span><span class="ident">values</span><span class="punct">[</span><span class="number">0</span><span class="punct">]</span>
    <span class="keyword">else</span>
      <span class="ident">attribute</span> <span class="punct">=</span> <span class="ident">arg</span>
      <span class="ident">value</span> <span class="punct">=</span> <span class="ident">block</span> <span class="punct">?</span> <span class="ident">block</span> <span class="punct">:</span> <span class="constant">nil</span>
    <span class="keyword">end</span>

    <span class="ident">class_eval</span> <span class="keyword">do</span>

      <span class="ident">attr_writer</span> <span class="ident">attribute</span>

      <span class="ident">define_method</span><span class="punct">(</span><span class="ident">attribute</span><span class="punct">)</span> <span class="keyword">do</span>
        <span class="keyword">unless</span> <span class="ident">instance_variable_get</span><span class="punct">(&quot;</span><span class="string">@<span class="expr">#{attribute}</span></span><span class="punct">&quot;)</span>
          <span class="ident">default_value</span> <span class="punct">=</span> <span class="punct">(</span><span class="ident">value</span><span class="punct">.</span><span class="keyword">class </span><span class="class">==</span> <span class="ident">Proc</span><span class="punct">)</span> <span class="punct">?</span> <span class="ident">instance_eval</span><span class="punct">(&amp;</span><span class="ident">value</span><span class="punct">)</span> <span class="punct">:</span> <span class="ident">value</span>
          <span class="ident">instance_variable_set</span><span class="punct">(&quot;</span><span class="string">@<span class="expr">#{attribute}</span></span><span class="punct">&quot;,</span> <span class="ident">default_value</span><span class="punct">)</span>
        <span class="keyword">end</span>
        <span class="ident">instance_variable_get</span><span class="punct">(&quot;</span><span class="string">@<span class="expr">#{attribute}</span></span><span class="punct">&quot;)</span>
      <span class="keyword">end</span>

      <span class="ident">define_method</span><span class="punct">(&quot;</span><span class="string"><span class="expr">#{attribute}</span>?</span><span class="punct">&quot;)</span> <span class="keyword">do</span>
        <span class="ident">instance_variable_get</span><span class="punct">(&quot;</span><span class="string">@<span class="expr">#{attribute}</span></span><span class="punct">&quot;)</span> <span class="punct">?</span> <span class="constant">true</span> <span class="punct">:</span> <span class="constant">false</span>
      <span class="keyword">end</span>

    <span class="keyword">end</span>

  <span class="keyword">end</span>

<span class="keyword">end</span></code></pre></div>

              

            </div>
          </div>
        </div>
        <div class="yui-b">
          <!--#include virtual="/includes/_navigation.html"-->
        </div>
      </div>
    </div>
    <div id="ft">
      <!-- Footer -->
    </div>
    
    <!--#include virtual="/includes/_twitter.html" -->
    <!--#include virtual="/includes/_delicious.html" -->
    <!--#include virtual="/includes/_google_analytics.html" -->
  </body>

</html>
